webpackJsonp([0],{"/626":function(t,e){},"2zNh":function(t,e,a){t.exports=a.p+"static/img/icon.b9700ec.png"},"3R/k":function(t,e){},"3TcT":function(t,e){},"4Wrh":function(t,e){},"5Ywj":function(t,e,a){"use strict";var r=a("Zrlr"),n=a.n(r),i=a("wxAW"),o=a.n(i),s=function(){function t(){n()(this,t)}return o()(t,null,[{key:"errHandler",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";console.error((e||"")+"\n"+t);var a=new CustomEvent("err",{detail:{title:e,message:t.message}});window.dispatchEvent(a)}},{key:"getSize",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(0===t)return"0 Bytes";var a=["Bytes","KB","MB","GB","TB"],r=Math.floor(Math.log(t)/Math.log(1024));return parseFloat((t/Math.pow(1024,r)).toFixed(e))+" "+a[r]}},{key:"getToday",value:function(){var t=new Date;return t.getFullYear().toString()+"-"+(t.getMonth()+101).toString().substring(1)+"-"+(t.getDate()+100).toString().substring(1)}},{key:"copyToClipboard",value:function(t){var e=document.createElement("div");document.body.appendChild(e),e.innerHTML=t,window.getSelection().removeAllRanges();var a=document.createRange();a.selectNode(e),window.getSelection().addRange(a);var r=document.execCommand("copy",!1);return e.remove(),r}},{key:"openLink",value:function(t,e){var a=document.createElement("a");e&&(a.download=e),a.target="_blank",a.href=t,a.dispatchEvent(new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window})),a.remove()}},{key:"hslToRgb",value:function(t,e,a){if(isNaN(t))return"transparent";var r=void 0,n=void 0,i=void 0;if(0===e)r=n=i=a;else{var o=function(t,e,a){return a<0&&(a+=1),a>1&&(a-=1),a<1/6?t+6*(e-t)*a:a<.5?e:a<2/3?t+(e-t)*(2/3-a)*6:t},s=a<.5?a*(1+e):a+e-a*e,l=2*a-s;r=o(l,s,t+1/3),n=o(l,s,t),i=o(l,s,t-1/3)}return[Math.round(255*r),Math.round(255*n),Math.round(255*i)]}},{key:"getFormatTime",value:function(t,e){return[t,e,Math.floor(t/60)+":"+(100+t%60).toString().substring(1)+" - "+Math.floor(e/60)+":"+(100+e%60).toString().substring(1)]}}]),t}();e.a=s},"6DHi":function(t,e){},"6nfk":function(t,e){},"8S8f":function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("transition",{attrs:{mode:"out-in"}},[a("router-view")],1)],1)},n=[],i={render:r,staticRenderFns:n};e.a=i},"90VL":function(t,e){},"9hH4":function(t,e,a){"use strict";var r=a("Xxa5"),n=a.n(r),i=a("exGp"),o=a.n(i),s=a("Zrlr"),l=a.n(s),c=a("wxAW"),u=a.n(c),d=a("mtWM"),v=a.n(d),p=a("5Ywj"),f=a("Ba3q"),h=a.n(f),m=a("DEN3"),g=function(){function t(){l()(this,t)}return u()(t,null,[{key:"getData",value:function(){function t(t){return e.apply(this,arguments)}var e=o()(n.a.mark(function t(e){var a,r,i;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v.a.get(m.ecourse.ANNOUNCE).catch(function(t){return p.a.errHandler(t,"Get Announce Error!")});case 2:if(a=t.sent,t.prev=3,!(a.data.indexOf("沒有修課")>-1)){t.next=6;break}return t.abrupt("return",{stat:!0,data:[[],[],[],[]]});case 6:return r=/var js\s=\s(.+)/.exec(a.data)[1],i=JSON.parse(r.slice(0,-1)),console.log("Announce:\n",i),t.abrupt("return",{stat:!0,data:this.parseData(i)});case 12:return t.prev=12,t.t0=t.catch(3),p.a.errHandler(t.t0,"Parse Announce Fail!"),t.abrupt("return",{stat:!1,data:[[],[],[],[]]});case 16:case"end":return t.stop()}},t,this,[[3,12]])}));return t}()},{key:"parseData",value:function(t){var e=new Date,a=localStorage.notify?JSON.parse(localStorage.notify):[],r=localStorage.annNotify?JSON.parse(localStorage.annNotify):{};return[t.map(function(t){return t[0]},[]),t.reduce(function(t,n){var i=n[0],o=n[1];return r[i]||(r[i]={}),n[2]=n[2]||[],t[i]=n[2].length?n[2].reduce(function(t,n){var s=n[0];if(void 0===r[i][s]){var l=Math.abs(e-new Date(n[2]))<3456e5;if(r[i][s]=l,l){var c=o.split(/[^A-Za-z]/)[0].substring(0,4)||o.substring(0,2);a.push({type:1,id:s,abbr:c,title:n[8],course:o,courseID:i,timeStamp:n[2]})}}return t.push({id:s,title:n[8],content:n[9]||"沒有內容",timeStamp:n[2]}),h()(t,["timeStamp","title"],["desc","asc"])},[]):[{title:"暫無公告"}],t},{}),r,a]}}]),t}();e.a=g},BCfr:function(t,e){},DEN3:function(t,e){t.exports={sso:{login:"/sso/login_check.php",logout:"/sso/logout_check.php",index:"/sso/index.php",ssoIndex:"/sso/sso_index.php",authcode:"/sso/misc/imgcode.php"},ecourse:{HOST:"https://ecourse.ccu.edu.tw",LOGIN:"/ec/php/index_login.php",LOGOUT:"/ec/php/logout.php",INDEX:"/ec/php/Courses_Admin/take_course.php?frame=1",INTRO:"/ec/php/Courses_Admin/intro.php",MOBILE:"/ec/ecourse/php/index_login.php",ANNOUNCE:"/ec/ecourse/php/courses_news/news.php",HOMEWORK:"/ec/ecourse/php/courses_homework/homework.php",TEXTBOOK:"/ec/ecourse/php/courses_textbook/material.php",TEXTBOOK_PAGE:"/ec/php/textbook/course_menu.php",COURSE_SELECT:"/ec/php/login_s.php",COURSE_SCORE:"/ec/php/Trackin/SGQueryFrame1.php",UNDER_DIR_FILE:"/ec/ecourse/php/courses_homework/UnderDirFile.php",SHOW_WORK:"/ec/php/Testing_Assessment/show_allwork.php",TEACHER_INFO:"/ec/php/Learner_Profile/show_teacher_info.php",ROLL:"/ec/php/Trackin/ShowStudentRollBook.php",PING:"/ec/php/online/online.php"},kiki:{LOGIN:"/kiki/~ccmisp06/cgi-bin/class_new/bookmark.php",LOGOUT:"/kiki/~ccmisp06/cgi-bin/class_new/logout.php",TABLE:"/kiki/~ccmisp06/cgi-bin/class_new/Selected_View00.cgi"}}},EWfp:function(t,e,a){"use strict";var r=a("EZYi"),n=a("pfgP"),i=a("VU/8"),o=i(r.a,n.a,!1,null,null,null);e.a=o.exports},EZYi:function(t,e,a){"use strict";var r=a("//Fk"),n=a.n(r),i=a("d7EF"),o=a.n(i),s=a("mvHQ"),l=a.n(s),c=a("fZjL"),u=a.n(c),d=a("Xxa5"),v=a.n(d),p=a("exGp"),f=a.n(p),h=a("O6e2"),m=a("5Ywj"),g=a("ihBo"),b=a("nid1"),w=a("9hH4"),x=a("nx4Q"),k=a("eJfl"),_=a("O4Lo"),y=a.n(_);e.a={name:"Ecourse",data:function(){return{isScroll:!1,focusItem:null,today:m.a.getToday(),isMobile:window.innerWidth<800,tag:"announce",account:{username:"",password:""},err:{title:"",message:""},avatar:"",currWeather:null,notifyColor:["red darken-1","blue","orange","cyan","purple","brown"],weather:["dawn","golden-hour","golden-hour-end","sunset","dusk","night"],flag:{about:!1,drawer:!0,error:!1,login:!1,setting:!1,theme:!1},setting:{showDivider:!1,weatherTheme:!0,detectDate:!0,detectUrl:!0,isDownloadQuestion:!1,showIntro:!0,showTeacherInfo:!0,expandFirstFolder:!1,isDownloadTextbook:!0,scoreStyle2:!1,rankColorBlock:!0},settingData:{"外觀":[{field:"showDivider",title:"顯示格線",description:"在每個項目之間添加分隔線"}],"公告":[{field:"detectDate",title:"日期偵測",description:"公告日期添加底線"},{field:"detectUrl",title:"偵測網址",description:"公告網址變為可點之連結"}],"作業":[{field:"isDownloadQuestion",title:"強制下載題目",description:"強制下載文件而非打開新視窗(Safari無效)"}],"教材":[{field:"showIntro",title:"授課大綱",description:"是否顯示授課大綱"},{field:"showTeacherInfo",title:"教師資訊",description:"是否顯示教師資訊"},{field:"expandFirstFolder",title:"自動展開首項",description:"教材第一個資料夾會自動打開"},{field:"isDownloadTextbook",title:"強制下載教材",description:"強制下載文件而非打開新視窗(Safari無效)"}],"成績":[{field:"scoreStyle2",title:"切換成績顯示風格",description:"變一塊一塊，適合手機端"},{field:"rankColorBlock",title:"顯示排名色塊",description:"成績前依據排名顯示色塊"}]},toast:{show:!1,timeout:3e3,color:"success",message:"",multi:!1}}},computed:{loginData:function(){return{id:this.account.username,pass:this.account.password,ver:"C"}},bottomNavColor:function(){switch(this.tag){case"announce":return"blue";case"homework":return"green";case"textbook":return"orange";case"score":return"red"}},User:function(){return h.a.User},Notify:function(){return h.a.Notify},HomeworkData:function(){return h.a.Homework},CourseList:function(){return h.a.CourseList}},created:function(){var t=this;return f()(v.a.mark(function e(){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.flag.drawer=!t.isMobile,t.currWeather=t.weather[Math.floor(100*Math.random()%7)],window.addEventListener("err",t.onError),localStorage.setting&&(t.setting=JSON.parse(localStorage.setting)),t.updateSetting(t.setting),!navigator.onLine){e.next=10;break}return e.next=8,t.autoLogin();case 8:e.next=12;break;case 10:t.loadLocalData(),t.showToast({message:"當前處於離線狀態",color:"info",multi:!0});case 12:case"end":return e.stop()}},e,t)}))()},watch:{setting:{handler:function(){this.updateSetting(this.setting)},deep:!0}},methods:{onScroll:y()(function(){this.isScroll=window.scrollY>100},100),toTop:function(){window.scroll({top:0,behavior:"smooth"})},showToast:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.message,a=void 0===e?"":e,r=t.color,n=void 0===r?"success":r,i=t.multi,o=void 0!==i&&i;this.toast.show=!0,this.toast.color=n,this.toast.multi=o,this.toast.message=a},uploadAvatar:function(t){var e=this,a=t.target.files[0];if(a){var r=new FileReader;r.onloadend=function(){e.avatar=r.result,localStorage["avatar"+e.User.studentId]=r.result,e.showToast({message:"設定頭貼成功"})},r.readAsDataURL(a)}},updateNotify:function(t){h.a.$emit("updateNotify",t)},toNotify:function(t){var e=this;this.updateNotify(t),this.$router.push({name:"Course",params:{id:t.courseID}}),this.isMobile&&(1===t.type&&(this.tag="announce"),2===t.type&&(this.tag="homework")),this.focusItem=""+t.type+t.id,setTimeout(function(){e.focusItem=null},1300)},clearAll:function(){confirm("確定清除所有資料?")&&(localStorage.clear(),location.reload())},onError:function(t){console.log(t),this.err=t.detail,this.flag.error=!0},keepAlive:function(){setInterval(function(){return g.a.ping()},3e5)},updateSetting:function(t){var e=this;u()(t).forEach(function(a){e.$set(e.setting,a,t[a])}),h.a.$emit("updateSetting",this.setting)},showLogin:function(){h.a.User.modal=!0},autoLogin:function(){var t=this;return f()(v.a.mark(function e(){var a;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(localStorage.user){e.next=3;break}return t.flag.drawer=!1,e.abrupt("return");case 3:return h.a.$emit("loadLocalData"),h.a.User.loading=!0,e.next=7,g.a.getIndex();case 7:if(a=e.sent,-1!==a.indexOf("權限錯誤")){e.next=13;break}return h.a.$emit("updateUser",{username:JSON.parse(localStorage.user).id,loggedIn:!0}),e.next=12,t.fetchData();case 12:return e.abrupt("return");case 13:return e.next=15,t.login(!0);case 15:case"end":return e.stop()}},e,t)}))()},login:function(t){var e=this;return f()(v.a.mark(function a(){var r,n;return v.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return r=t?JSON.parse(localStorage.user):e.loginData,a.next=3,g.a.login(r);case 3:if(n=a.sent,n.stat){a.next=6;break}return a.abrupt("return",e.showToast({message:n.message,color:"error"}));case 6:return t||(localStorage.user=l()(e.loginData)),h.a.User.modal=!1,e.showToast({message:"登入成功",color:"success"}),h.a.$emit("updateUser",{username:r.username,loggedIn:!0}),a.next=12,e.fetchData();case 12:case"end":return a.stop()}},a,e)}))()},logout:function(){var t=this;return f()(v.a.mark(function e(){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.logout();case 2:localStorage.removeItem("user"),localStorage.removeItem("notify"),localStorage.removeItem("annNotify"),localStorage.removeItem("hwNotify"),t.flag.drawer=!1,t.$router.push({path:"/"}),t.showToast({message:"登出成功",color:"success"}),setTimeout(function(){location.href="/"},1e3);case 10:case"end":return e.stop()}},e,t)}))()},fetchData:function(){var t=this;return f()(v.a.mark(function e(){var a,r,i,s,l,c,u,d,p,f;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return h.a.User.loading=!0,t.flag.drawer=!0,e.next=4,g.a.getIndex();case 4:return a=e.sent,r=g.a.getData(a),i=b.a.getList(a),h.a.$emit("updateUser",r),h.a.$emit("updateCourse",i.data),localStorage["avatar"+t.User.studentId]&&(t.avatar=localStorage["avatar"+t.User.studentId]),e.next=12,n.a.all([w.a.getData(),x.a.getData(),k.a.getData()]);case 12:return s=e.sent,l=o()(s,3),c=l[0],u=l[1],d=l[2],h.a.$emit("updateAnnounce",c.data),h.a.$emit("updateHomework",u.data),h.a.$emit("updateTextbook",d.data),e.next=22,x.a.getAllQuestion(t.HomeworkData);case 22:if(p=e.sent,h.a.$emit("updateHwFile",p.data),f=!(c.stat&&u.stat&&p.stat&&d.stat),f?t.showToast({message:"取得資料錯誤",color:"error"}):t.showToast({message:"資料更新成功",color:"info"}),h.a.User.loading=!1,!t.$route.params.id){e.next=30;break}return e.next=30,b.a.changeCourse(t.$route.params.id);case 30:t.keepAlive();case 31:case"end":return e.stop()}},e,t)}))()}}}},FbEL:function(t,e){},FjSB:function(t,e,a){"use strict";var r=a("zThr"),n=a("gdM5"),i=a("VU/8"),o=i(r.a,n.a,!1,null,null,null);e.a=o.exports},G7YT:function(t,e){},"HNa/":function(t,e){},JLzs:function(t,e){},L7Wk:function(t,e,a){"use strict";var r=a("mvHQ"),n=a.n(r),i=a("Gu7T"),o=a.n(i),s=a("Xxa5"),l=a.n(s),c=a("exGp"),u=a.n(c),d=a("Zrlr"),v=a.n(d),p=a("wxAW"),f=a.n(p),h=a("mw3O"),m=a.n(h),g=a("KBYM"),b=a.n(g),w=a("mtWM"),x=a.n(w),k=a("5Ywj"),_=a("DEN3"),y=function(){function t(){v()(this,t)}return f()(t,null,[{key:"login",value:function(){function t(){return e.apply(this,arguments)}var e=u()(l.a.mark(function t(){var e,a,r;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=JSON.parse(localStorage.user),a=m.a.stringify({id:e.id,password:e.pass}),t.next=4,x.a.post(_.kiki.LOGIN,a).catch(function(t){k.a.errHandler(t,"Kiki login Error")});case 4:r=t.sent,this.session=/session_id=([\w\d]+)/.exec(r.request.responseURL)[1];case 6:case"end":return t.stop()}},t,this)}));return t}()},{key:"getData",value:function(){function t(t,a){return e.apply(this,arguments)}var e=u()(l.a.mark(function t(e,a){var r,i,s,c,u,d,v,p,f;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x.a.get(_.kiki.TABLE,{params:{year:e,term:a,session_id:this.session}}).catch(function(t){k.a.errHandler(t,"Kiki getData Error")});case 2:if(r=t.sent,!(r.data.indexOf("暫時關閉")>-1)){t.next=5;break}return t.abrupt("return",!1);case 5:for(i=new DOMParser,s=i.parseFromString(r.data,"text/html"),c=s.querySelector("table:nth-child(6) > tbody > tr:nth-child(1) > th:nth-child(1) > font").textContent,u="篩選狀態"===c||"申請棄選"===c?1:0,d=[].concat(o()(s.querySelectorAll("table:nth-child(6) > tbody > tr:not(:nth-child(1)) > th"))),d=d.map(function(t){return t.textContent}),v=[[],[],[],[],[]],p=function(t){var e=d[t+6+u].replace(/\s/g,"").match(/[^\w^,]+|[\w,]+/gi),a=e.filter(function(t,e){return!(e%2)}),r=e.filter(function(t,e){return e%2});r=r.map(function(t){if(t=t.split(","),/[a-zA-Z]/.test(t[0])){var e=435+90*(t[0].toLowerCase().charCodeAt(0)-97),a=510+90*(t[t.length-1].toLowerCase().charCodeAt(0)-97);return k.a.getFormatTime(e,a)}var r=370+60*parseInt(t[0]),n=420+60*parseInt(t[t.length-1]);return k.a.getFormatTime(r,n)}),a.forEach(function(e,a){var n="一二三四五".indexOf(e);a<0||v[n].push({id:d[t+u+0],name:d[t+u+2],professor:d[t+u+3],required:d[t+u+5],start:r[a][0],end:r[a][1],time:r[a][2],location:d[t+u+7]})})},f=0;f<d.length;f+=9+u)p(f);return v=v.map(function(t){return b()(t,["start"])}),v.map(function(t){return t.forEach(function(e,a){0===a?t[0].distance=e.start-430:t[a].distance=e.start-t[a-1].end+t[a-1].distance-10}),t}),localStorage.courseTable=n()(v),t.abrupt("return",v);case 18:case"end":return t.stop()}},t,this)}));return t}()}]),t}();e.a=y},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a("/5sW"),n=a("cwXR"),i=a("cHtD"),o=a("M+UZ"),s=a.n(o),l=a("IcMm"),c=a.n(l),u=a("BOXn"),d=a.n(u),v=a("RWpw"),p=a.n(v),f=a("7Q1V"),h=a.n(f),m=a("VdfK"),g=a.n(m),b=a("uzlj"),w=a.n(b),x=a("f/u0"),k=a.n(x),_=a("MPXs"),y=a.n(_),S=a("XRgG"),C=a.n(S),N=a("JUsQ"),T=a.n(N),H=a("k2rl"),D=a.n(H),W=a("7M7f"),I=a.n(W),A=a("oD3a"),L=a.n(A),O=a("fYhH"),U=a.n(O),F=a("DBae"),E=a.n(F),R=a("8QWG"),M=a.n(R),V=a("UxJg"),$=a.n(V),P=a("7gKz"),z=a.n(P),G=a("+9ps"),B=a.n(G),Z=a("CYy8"),X=a.n(Z),Q=a("iAJc"),Y=a.n(Q),J=a("/yi5"),K=a.n(J),q=a("rPQa"),j=a.n(q),tt=a("6VHA"),et=a.n(tt),at=a("DYTo");a.n(at);r.default.config.devtools=!1,r.default.config.performance=!1,r.default.config.productionTip=!1,r.default.use(s.a,{components:{VApp:c.a,VAlert:d.a,VAvatar:p.a,VBtn:h.a,VBadge:g.a,VBottomNav:w.a,VCard:k.a,VDialog:y.a,VDivider:C.a,VGrid:T.a,VImg:D.a,VIcon:I.a,VJumbotron:L.a,VList:U.a,VMenu:E.a,VSubheader:z.a,VSnackbar:$.a,VSwitch:M.a,VToolbar:B.a,VTooltip:X.a,VTextarea:Y.a,VTextField:K.a,VNavigationDrawer:j.a,transitions:et.a},directives:{Ripple:at.Ripple,Scroll:at.Scroll}}),new r.default({el:"#app",router:i.a,render:function(t){return t(n.a)}})},NMl0:function(t,e,a){t.exports=a.p+"static/img/nav.913159a.png"},NOHZ:function(t,e){},O6e2:function(t,e,a){"use strict";var r=a("d7EF"),n=a.n(r),i=a("fZjL"),o=a.n(i),s=a("mvHQ"),l=a.n(s),c=a("/5sW"),u=a("Ba3q"),d=a.n(u),v=a("DEN3"),p=new c.default({data:function(){return{template:[],User:{modal:!1,loggedIn:!1,username:"",name:"",studentId:"",department:"",classes:""},CourseList:[],Announce:{},Homework:{},Textbook:{},Score:{},Roll:{},Setting:{},HomeworkFile:{},AnnounceNotify:{},HomeworkNotify:{},Notify:[]}},created:function(){var t=this;this.$on("updateCourse",function(e){t.CourseList=e,localStorage.courseList=l()(e)}),this.$on("updateUser",function(e){o()(e).forEach(function(a){t.$set(t.User,a,e[a])})}),this.$on("updateAnnounce",function(e){var a=n()(e,4),r=a[0],i=a[1],o=a[2],s=a[3];t.Notify=s,t.template=r,t.Announce=i,t.AnnounceNotify=o,localStorage.announce=l()(i),localStorage.annNotify=l()(o)}),this.$on("updateHomework",function(e){var a=n()(e,3),r=a[0],i=a[1],o=a[2];t.Homework=r,t.HomeworkNotify=i,t.Notify=t.Notify.concat(o),t.Notify=d()(t.Notify,["timeStamp","title"],["desc","asc"]),localStorage.homework=l()(r),localStorage.hwNotify=l()(i),localStorage.notify=l()(t.Notify)}),this.$on("updateTextbook",function(e){var a=e.textbook,r=e.chapter,n={};t.template.forEach(function(t,e){n[t]={},n[t].list=r[e]||[["所有教材"]],n[t].content=a[e].map(function(t){return null===t[0]?[]:t[0].map(function(t){return{filename:t[0],path:""+v.ecourse.HOST+t[1].slice(8),date:t[2],time:t[3],ext:t[4]}})})}),t.Textbook=n,localStorage.textbook=l()(t.Textbook)}),this.$on("updateSetting",function(e){o()(e).forEach(function(a){t.$set(t.Setting,a,e[a])}),localStorage.setting=l()(t.Setting)}),this.$on("updateScore",function(e){var a=n()(e,2),r=a[0],i=a[1];t.$set(t.Score,r,i),localStorage.roll=l()(t.Score)}),this.$on("updateRoll",function(e){var a=n()(e,2),r=a[0],i=a[1];t.$set(t.Roll,r,i),localStorage.roll=l()(t.Roll)}),this.$on("updateHwFile",function(e){t.HomeworkFile=e}),this.$on("updateAnnNotify",function(e){var a=n()(e,2),r=a[0],i=a[1];t.AnnounceNotify[r][i]=!1;for(var o in t.Notify){var s=t.Notify[o];s.courseID===r&&s.id===i&&1===s.type&&t.Notify.splice(o,1)}localStorage.notify=l()(t.Notify),localStorage.annNotify=l()(t.AnnounceNotify)}),this.$on("updateHwNotify",function(e){var a=n()(e,2),r=a[0],i=a[1];t.HomeworkNotify[r][i]=!1;for(var o in t.Notify){var s=t.Notify[o];s.courseID===r&&s.id===i&&2===s.type&&t.Notify.splice(o,1)}localStorage.notify=l()(t.Notify),localStorage.hwNotify=l()(t.HomeworkNotify)}),this.$on("updateNotify",function(e){t.Notify=null===e?[]:t.Notify.filter(function(t){return console.log(t,e),t!==e}),localStorage.notify=l()(t.Notify)}),this.$on("loadLocalData",function(){localStorage.annNotify&&"undefined"!==localStorage.announce&&(localStorage.courseList&&(t.CourseList=JSON.parse(localStorage.courseList)),localStorage.announce&&(t.Announce=JSON.parse(localStorage.announce)),localStorage.homework&&(t.Homework=JSON.parse(localStorage.homework)),localStorage.textbook&&(t.Textbook=JSON.parse(localStorage.textbook)),localStorage.score&&(t.Score=JSON.parse(localStorage.score)),localStorage.roll&&(t.Roll=JSON.parse(localStorage.roll)),localStorage.setting&&(t.Setting=JSON.parse(localStorage.setting)),localStorage.annNotify&&(t.AnnounceNotify=JSON.parse(localStorage.annNotify)),localStorage.hwNotify&&(t.HomeworkNotify=JSON.parse(localStorage.hwNotify)),localStorage.notify&&(t.Notify=JSON.parse(localStorage.notify)))})}});e.a=p},P0ba:function(t,e){},PKKY:function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-layout",{staticClass:"text-xs-center",attrs:{"align-center":"align-center",wrap:"wrap"}},[r("v-flex",{staticClass:"no-select",attrs:{xs12:"xs12"}},[r("v-avatar",{staticClass:"grey lighten-4",class:{"mt-4":t.isMobile},attrs:{size:t.isMobile?174:194}},[r("img",{attrs:{src:a("2zNh"),alt:"Logo"}}),r("div",{staticClass:"img-circle",class:{mobile:t.isMobile}})]),r("h1",{staticClass:"head-name"},[t._v("eCourse+")]),r("div",{staticClass:"headline mb-3 mx-3"},[t._v("輕鬆瀏覽公告、作業、教材與成績")]),r("div",{staticClass:"mb-5"},[r("v-tooltip",{attrs:{top:"top"}},[r("v-btn",{staticClass:"mx-3",attrs:{slot:"activator",icon:"icon",large:"large",color:"white",href:"https://fb.me/EcourseP",target:"_blank",rel:"noopener"},slot:"activator"},[r("v-icon",{attrs:{color:"primary"}},[t._v("mdi-facebook")])],1),r("span",[t._v("Facebook")])],1),r("v-tooltip",{attrs:{top:"top"}},[r("v-btn",{staticClass:"mx-3",attrs:{slot:"activator",icon:"icon",large:"large",color:"white"},slot:"activator"},[r("v-icon",{attrs:{color:"primary"}},[t._v("mdi-twitter")])],1),r("span",[t._v("其實沒有twitter")])],1),r("v-tooltip",{attrs:{top:"top"}},[r("v-btn",{staticClass:"mx-3",attrs:{slot:"activator",icon:"icon",large:"large",color:"white",href:"https://github.com/pionxzh/eCourse-Plus-Plus",target:"_blank",rel:"noopener"},slot:"activator"},[r("v-icon",{attrs:{color:"primary"}},[t._v("mdi-github-circle")])],1),r("span",[t._v("GitHub")])],1)],1),t.User.loggedIn?t._e():r("v-btn",{staticClass:"mb-2 white--text",staticStyle:{"background-color":"#e91e63"},attrs:{loading:t.User.loading,disabled:t.User.loading,large:"large"},on:{click:t.showLogin}},[r("strong",[t._v("開始使用")])]),t.User.loggedIn&&t.isMobile&&!t.isApp?r("v-btn",{staticClass:"mb-2 primary--text",attrs:{color:"white",large:"large"},on:{click:t.showpPrompt}},[r("v-icon",[t._v("mdi-apps")]),t._v(" "),r("strong",[t._v("添加為App")])],1):t._e(),t.User.loggedIn&&!t.isMobile|t.isApp?r("v-btn",{staticClass:"mb-2",attrs:{color:"pink",to:"/timeTable",large:"large"}},[r("v-icon",[t._v("mdi-apps")]),t._v(" "),r("strong",[t._v("查看課表")])],1):t._e(),r("div",{staticClass:"mt-3"},[t._v("v1.0.13")]),r("div",[t._v("- 教材現在可以選擇排序規則了")]),r("div",[t._v("-「授課大綱」、「教師資訊」移到卡片的右上角囉 (PC版)")])],1)],1)},n=[],i={render:r,staticRenderFns:n};e.a=i},R681:function(t,e){},RGFK:function(t,e){},RS1F:function(t,e,a){"use strict";var r=a("Xxa5"),n=a.n(r),i=a("exGp"),o=a.n(i),s=a("Zrlr"),l=a.n(s),c=a("wxAW"),u=a.n(c),d=a("mtWM"),v=a.n(d),p=a("5Ywj"),f=a("DEN3"),h=new TextDecoder("big5"),m=function(){function t(){l()(this,t)}return u()(t,null,[{key:"getScore",value:function(){function t(){return e.apply(this,arguments)}var e=o()(n.a.mark(function t(){var e,a,r,i,o,s;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v.a.get(f.ecourse.COURSE_SCORE,{responseType:"arraybuffer"}).catch(function(t){return p.a.errHandler(t,"Get Score Error")});case 2:return e=t.sent,a=new DOMParser,r=a.parseFromString(h.decode(e.data),"text/html"),i=r.querySelectorAll('tr[bgcolor="#4d6eb2"], tr[bgcolor="#E6FFFC"], tr[bgcolor="#F0FFEE"], tr[bgcolor="#B0BFC3"]'),o={},s="",i.forEach(function(t){var e=t.childNodes;switch(t.getAttribute("bgcolor")){case"#4d6eb2":s=e[0].textContent.replace("(名稱)",""),o[s]=[];break;case"#B0BFC3":void 0!==o["總成績"]?o["總成績"][0].score=e[1].textContent+"分":o["總成績"]=[{name:"總成績",rank:e[1].textContent}];break;default:var a=e[2].textContent?e[2].textContent+"分":"-",r=e[3].textContent.replace("你沒有成績","-"),n=r.split("/"),i=1-n[0]/n[1],l=p.a.hslToRgb(1.2*i/3.6,1,.5);o[s].push({name:e[0].textContent,percentage:e[1].textContent,score:a,rank:r,color:"rgb("+l[0]+", "+l[1]+", "+l[2]+")"})}}),t.abrupt("return",o);case 10:case"end":return t.stop()}},t,this)}));return t}()},{key:"getRoll",value:function(){function t(){return e.apply(this,arguments)}var e=o()(n.a.mark(function t(){var e,a,r,i,o;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v.a.get(f.ecourse.ROLL,{responseType:"arraybuffer"}).catch(function(t){return p.a.errHandler(t,"Get Roll Error")});case 2:e=t.sent,a=h.decode(e.data),r=/<TD\scolspan="2">([0-9\/出缺席]*?)<\/TD>\s*?<TD\scolspan="2">([0-9\/出缺席]*?)<\/TD>/g,i=[],o=void 0;do{(o=r.exec(a))&&i.push([o[1],o[2]])}while(o);return t.abrupt("return",i);case 9:case"end":return t.stop()}},t,this)}));return t}()}]),t}();e.a=m},"Ri/9":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAK4AAADICAMAAABGfyqbAAAA+VBMVEU1Tmw2WHQ2W3Y1UW41VXE3ZHw3YXo2VnM1T21bn8lcr9U2XndcsdZcs9hctto1U3A3X3lbo8xam8Zboctbps9bqdBbpM1cuNw3Z35bqtJdvd9crNM3aX82WnRalsNanchakb9dwOJcut1amcVdv+Bak8E3YntamMRZjLxcu95dwuNZj701VHBairpdxeVdxOVZh7ldx+ZZgrRdyOhZiblZhLZZhrdeyulAaoo5boVDephJhaY/dpJHe509cos6YH1RmrxEbpBWpclXlL5XmMFNeqM+Y4NUoMNTjLROk7NQibBFg6BKjaxSfao7aIRUkblPhq1KcZk8WXveNpfQAAAG+UlEQVR42tXZa1cSURTG8UcpBLGkSQzjMhShltnFzAaGi9xVELTv/2HazAYPwdxgKNj/Nfj6t87a+4gOfo37wX23+mL19eunr59GvXtHD/fB6u2kjx8/vrd6M+7lpBcv6LHaG7dL0Q8uxR1xCe7ggB7q8ODQ6hX1evThotGo4tpqv3poKR9abkktNdZSYKsQbRSitFEImgQKorRRiNJGIUqr44ckrQ5RWh2itDpEaXWI0moQpdUgSqtBlFaDKK0GUVoNorQaRGk1iNJqWET7ft3aPERp8xA0Cfm8BklnS8MgSpuHKG0eorR5iNKeQJT2BKK0dLqStCcQpT2BKG0WorRZiNJmIUqbhShtFqK0WYjSZiFKm4UobRaitFmI0mYhSVsoQJS2AFHaAkRpCxClLUCUtgBR2gJEaXMQpc1BlDYHUdocltDu/i8tp7TEFaXNQZQ2B5/a7tGLDdDm4E/bKPc3QZuDL+2emS52X6xfm4Ovub0uptOlxPq1OfjRpkppisZhjVoO7lruNj2qeL23Ri0HH9pGNW1VPthbs/YMPu5bMz3O3N1br/YMnlprzygeh7Vqiet5tkel9FPlxjq1FLy0vGeTzNQatRS8tLxnahzWqKXgrt3b7aWnS9I4rEx7crKAloO7lvds2ts7Wpm2Yi6qPYW7NlFKzzS4Da7lHuK1O20x7SlctFQ/PVuy2liNtjnY3h4MF9IS102r9kxpaRwSq9CelLYpo5n3r6XgoqU9s9Em07epgFoehe1R9YJ/LQVHLaX2TGmpajcVWNs0trlK1reWgos2UbbTUpVE0PuWRmFcrO1Py8FWy/UdtDQOAbXaXXjCzdQefGk5OGsb1Xkt97zaPQqk5VFgbqZz40fLwVG727PVsrd0GECbz1eUdjuzZQz9as9hq+U9c9Y+T/YDaLW72pQ2k9mq53xqz+GkTZSdtVSxtbyWR0Fpt7YeC760xJ3Xcn03LVV6lVhSy6OgtNR224+WgoO2W3XWcv0ltTwKSmsVv/ehpWCvTfVctFzxOuGpbbWic1oeBaXlanfeWgp22l3aMxctd1x67aXVS2Vt7tt4ZUbL7XRuCt7aS9hqE2V3LWd6TcLdcdyc0fIoKK3yGqfe2nPY/ke070d7PLh217aMWCx5o/91tk3DRsvVzzy1l7DR0p55adlbjrpp9UosHosZTV1paRQctTtbFU/tJWzONtXz1nKmvZa7qcVGVaa1NzVnLV1nHlrizml5zzy1PA5DZ22rGrM6flDappFx1NKn9uCh/YZ5baLsoVXccFk/nNdyvXiMGwxZy6Pgot2h68FdS9y59w5931rKdNIOk7Fx2/UWa2kUXLWUcZlz0RJ3TtstLqANJ4eHttp8PfbEjbVZW6hnXLRc/dRZS2FWm+otog2Hq5qNVo+a8YmWhLU7i9t2P1vu0VlLYUa7d1tcREv1XttohwOlpYymNQoZT+2zZ1ttRy2FGW2jnFxESyVv5rS6Vn7ScqUsj4Kn9tnn+P2ZnZbD31r6feZfy8WrrVlt9CH8pOXiJo2CHy15aw9nTtorTGt5zxbQcpXojLY5UNpxHbOT8dayt3PlpGXuRLt7VEkuqOVx+Eura6Unrarm62y5+qW9lrnqfdntgmfLxY0Wc1lLX8SUVuWtVT2e22mZq7S8Z761yluZ1jaNoNrPO+1TOy1zWUuZi58tc5/fjbWUVgms/bz/+/7UTvsTU9puMbmcNh4zWqzlUQis3Q/V7u20P6G0idKyWqqks1ZvGSvQkrdzcT6nJe6TlvZsWS11/MBarbISLXmNq/MZLQXW8p4tpeVig6blvXkeXMvc/frVjJYCa3nPltSyt6SRtlVfmTb07HFGS4G1vGdBtPRXg65pZnxl2lBoqz2j5VXjPQumpWcw1Ied1Wmp3/cz2gsQlfcsoJac5VZ5ZVquc/G3dsJtVJMBtVS4Hl6llr3T2gk3ZQbVcqvUcvWfSvvEvS5uqDa0/6i0FHjPNlUbiuy0r1jLXN6z5IZqQyH8vre0ituobq42EiHvlaVlbiplbrKWvJ0LxU3Rnm20ljIuFPegtOnaSOhRcW/Tm66NRPYnXnSrm6+NYKc95vYEaCOg64G5aRFaoGN5IUQLGBZXihaR+ogrRQuMrgeI0WJ0PUCOdnQ9QJCWvJCkpWRpIUsLWVrI0kKWFrK0kKWFLC1kaSFLC1layNJClhaytJClhSwtZGkhSwtZWsjSQpYWsrSQpYUsLWRpIUsLWVrI0kKWFrK0kKWFLC3+kXb/32ghSwtZWsjSQpYWsrSIi9JClhaytJClhSwtZGkhSwtZWsjSQpYWsrSQpYUsLWRpIUsLWVrI0kKWFrK0kKWFLC1kaSFLC1layNJClhaytJClhSwtNui9g4/+AMJWSrdmAkzyAAAAAElFTkSuQmCC"},Uhku:function(t,e,a){"use strict";var r=a("O6e2");e.a={name:"Ecourse",data:function(){return{isApp:!0===window.navigator.standalone||window.matchMedia("(display-mode: standalone)").matches,deferredPrompt:null,isMobile:window.innerWidth<800}},created:function(){this.isMobile&&window.addEventListener("beforeinstallprompt",this.onInstall,!1)},computed:{User:function(){return r.a.User}},methods:{onInstall:function(t){return t.preventDefault(),window.removeEventListener("beforeinstallprompt",this.onInstall,!1),this.deferredPrompt=t,!1},showpPrompt:function(){this.deferredPrompt?this.deferredPrompt.prompt():alert('呼叫失敗，可在瀏覽器設定中找到"添加至桌面"選項')},showLogin:function(){r.a.User.modal=!0}}}},V5lI:function(t,e){},WZn9:function(t,e){},"X05+":function(t,e){},XC5Q:function(t,e){},ZlFP:function(t,e){},aaPh:function(t,e,a){"use strict";var r=a("bFn/"),n=a("lwwg"),i=a("VU/8"),o=i(r.a,n.a,!1,null,null,null);e.a=o.exports},acBN:function(t,e){},"bFn/":function(t,e,a){"use strict";var r=a("BO1k"),n=a.n(r),i=a("//Fk"),o=a.n(i),s=a("d7EF"),l=a.n(s),c=a("Xxa5"),u=a.n(c),d=a("exGp"),v=a.n(d),p=a("O6e2"),f=a("5Ywj"),h=a("RS1F"),m=a("nid1"),g=a("nx4Q"),b=a("DEN3");e.a={props:["tab","focusItem"],data:function(){return{tag:"announce",isScroll:!1,today:f.a.getToday(),isMobile:window.innerWidth<800,textBookParam:null,textBookAsce:1,search:{flag:!1,title:!0,keyword:""},announce:{flag:!1,text:"",title:"",content:"",toastShow:!1,toastColor:"success",message:""},homework:{id:null,flag:!1,title:"",content:""},scoreUpdate:{},uploadHW:{flag:!1,workID:0,content:"",list:{},toastShow:!1,toastColor:"success",message:""},homeworkAns:{},fileType:{pdf:"mdi-file-pdf-box",ppt:"mdi-file-powerpoint-box",pptx:"mdi-file-powerpoint-box",doc:"mdi-file-word-box",docx:"mdi-file-word-box",xls:"mdi-file-excel-box",xlsx:"mdi-file-excel-box",txt:"mdi-file-document-box",xml:"mdi-file-xml",jpg:"mdi-image",png:"mdi-image",jpeg:"mdi-image",gif:"mdi-image-multiple",ogg:"mdi-music-box",mp3:"mdi-music-box",mp4:"mdi-video",mpeg:"mdi-video",zip:"mdi-zip-box",rar:"mdi-zip-box",js:"mdi-language-javascript",php:"mdi-language-php",py:"mdi-language-python-text"}}},computed:{courseID:function(){return this.$route.params.id},AnnounceList:function(){return p.a.Announce[this.$route.params.id]||[]},HomeworkList:function(){return p.a.Homework[this.$route.params.id]||[]},TextbookList:function(){var t=this;if(null===this.textBookParam)return p.a.Textbook[this.$route.params.id];var e=p.a.Textbook[this.$route.params.id].content.map(function(e){return e.sort(function(e,a){return(e[t.textBookParam]>a[t.textBookParam]?1:-1)*t.textBookAsce})});return{list:p.a.Textbook[this.$route.params.id].list,content:e}},textbookSortIcon:function(){switch(this.textBookParam){case"filename":return"mdi-sort-alphabetical";case"time":return"mdi-restore-clock";case"ext":return"mdi-puzzle";default:return"mdi-tag-text-outline"}},ScoreData:function(){return p.a.Score[this.$route.params.id]||{"目前沒有成績":null}},RollData:function(){return p.a.Roll[this.$route.params.id]||[]},HwFile:function(){return p.a.HomeworkFile[this.$route.params.id]||{}},AnnNotify:function(){return p.a.AnnounceNotify[this.$route.params.id]||{}},HwNotify:function(){return p.a.HomeworkNotify[this.$route.params.id]||{}},Setting:function(){return p.a.Setting}},watch:{tab:function(t){var e=this;return v()(u.a.mark(function a(){return u.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(e.tag="middle",setTimeout(function(){e.tag=t},300),"score"!==t){a.next=5;break}return a.next=5,e.showScore();case 5:case"end":return a.stop()}},a,e)}))()},courseID:function(t){var e=this;return v()(u.a.mark(function t(){return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if("score"!==e.tag){t.next=3;break}return t.next=3,e.showScore();case 3:case"end":return t.stop()}},t,e)}))()}},beforeRouteLeave:function(t,e,a){return this.announce.flag?(this.announce.flag=!1,a(!1)):this.homework.flag?(this.homework.flag=!1,a(!1)):void a()},beforeRouteUpdate:function(t,e,a){return this.announce.flag?(this.announce.flag=!1,a(!1)):this.homework.flag?(this.homework.flag=!1,a(!1)):void a()},methods:{toggleSearch:function(){var t=this;this.search.flag?(this.search.flag=!1,setTimeout(function(){t.search.title=!0},200)):(this.search.flag=!0,this.search.title=!1,setTimeout(function(){t.$refs.search.focus()},300))},showUploadToast:function(t,e){this.uploadHW.toastShow=!0,this.uploadHW.toastColor=e,this.uploadHW.message=t},showAnnounce:function(t){var e=this.AnnounceList[t].id;if(this.AnnounceList[t].content){var a=this.AnnounceList[t].content.replace(/\r\n/g,"<br>");if(this.announce.text=a,this.Setting.detectUrl){var r=/(((?:http(s)?:\/\/)[\w.-]+(?:\.[\w.-]+)+)[\w\-._~:\/?#[\]@!$&'*+,;=.]+)/g;a=a.replace(r,' <a href="$1" target="_blank">$2...</a> ')}if(this.Setting.detectDate){var n=/(([\d]{1,4}\/)?[\d]{1,4}\/[\d]{1,4})(\([\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u65e5\u661f\u671f]{1,3}\))?/g;a=a.replace(n,'<u class="date-padding">$1</u>$3')}this.announce.title=this.AnnounceList[t].title,this.announce.content=a,this.announce.flag=!0,this.AnnNotify[e]&&p.a.$emit("updateAnnNotify",[this.courseID,e])}},showHomework:function(t){var e=this.HomeworkList[t].id;this.HomeworkList[t].content&&(this.homework={id:e,title:this.HomeworkList[t].title,content:this.HomeworkList[t].content,flag:!0},this.HwNotify[this.HomeworkList[t].id]&&p.a.$emit("updateHwNotify",[this.courseID,e]))},copyAnnounce:function(){f.a.copyToClipboard(this.announce.text)&&(this.announce.message="已將內容複製到剪貼簿。",this.announce.toastShow=!0)},sortTextbookAsce:function(){this.textBookAsce=1===this.textBookAsce?-1:1},sortTextbookBy:function(t){this.textBookParam=t},getMaterial:function(){var t=this;return v()(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.changeCourse(t.courseID);case 2:f.a.openLink(b.ecourse.TEXTBOOK_PAGE,!1);case 3:case"end":return e.stop()}},e,t)}))()},getIntro:function(){var t=this;return v()(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.changeCourse(t.courseID);case 2:f.a.openLink(b.ecourse.INTRO,!1);case 3:case"end":return e.stop()}},e,t)}))()},getTeacherInfo:function(){var t=this;return v()(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.changeCourse(t.courseID);case 2:f.a.openLink(b.ecourse.TEACHER_INFO,!1);case 3:case"end":return e.stop()}},e,t)}))()},downloadAns:function(t){var e=this;return v()(u.a.mark(function a(){var r;return u.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,m.a.changeCourse(e.courseID);case 2:r=b.ecourse.SHOW_WORK+"?action=downloadFile&work_id="+e.uploadHW.workID+"&filename="+t,f.a.openLink(r,!1);case 4:case"end":return a.stop()}},a,e)}))()},showScore:function(){var t=this;return v()(u.a.mark(function e(){var a,r,n,i,s;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.tag="score",!t.scoreUpdate[t.courseID]){e.next=3;break}return e.abrupt("return");case 3:return t.scoreUpdate[t.courseID]=!0,a=t.courseID,e.next=7,m.a.changeCourse(a);case 7:return e.next=9,o.a.all([h.a.getScore(),h.a.getRoll()]);case 9:r=e.sent,n=l()(r,2),i=n[0],s=n[1],p.a.$emit("updateScore",[a,i]),p.a.$emit("updateRoll",[a,s]);case 15:case"end":return e.stop()}},e,t)}))()},showUpload:function(t){var e=this;return v()(u.a.mark(function a(){return u.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return e.uploadHW.workID=t,e.uploadHW.flag=!0,e.homeworkAns[e.courseID]||(e.homeworkAns[e.courseID]={}),a.next=5,g.a.getAnswer(e.courseID,t);case 5:e.uploadHW.list=a.sent;case 6:case"end":return a.stop()}},a,e)}))()},uploadText:function(){var t=this;return v()(u.a.mark(function e(){var a;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.changeCourse(t.courseID);case 2:return e.next=4,g.a.uploadText(t.uploadHW.content,t.uploadHW.workID);case 4:return a=e.sent,e.next=7,g.a.getAnswer(t.courseID,t.uploadHW.workID);case 7:t.uploadHW.list=e.sent,a?t.showUploadToast("上傳成功","success"):t.showUploadToast("上傳失敗，請注意上傳日期限制","error");case 9:case"end":return e.stop()}},e,t)}))()},uploadFile:function(t,e){var a=this;return v()(u.a.mark(function r(){var i,o,s,l,c,d,v,p,h,b,w,x,k,_,y,S,C,N,T,H,D;return u.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,m.a.changeCourse(a.courseID);case 2:if(i=t.target.files||t.dataTransfer.files,i.length){r.next=5;break}return r.abrupt("return");case 5:for(o=[],s=!0,l=!1,c=void 0,r.prev=9,d=n()(i);!(s=(v=d.next()).done);s=!0)p=v.value,o.push(a.uploadHW.list.length),a.uploadHW.list.push({name:p.name,size:f.a.getSize(p.size),loading:!0});r.next=17;break;case 13:r.prev=13,r.t0=r.catch(9),l=!0,c=r.t0;case 17:r.prev=17,r.prev=18,!s&&d.return&&d.return();case 20:if(r.prev=20,!l){r.next=23;break}throw c;case 23:return r.finish(20);case 24:return r.finish(17);case 25:return r.next=27,g.a.uploadFile(i,e,a.courseID,a.uploadHW.workID);case 27:if(!(h=r.sent)){r.next=51;break}for(b=!0,w=!1,x=void 0,r.prev=32,k=n()(o);!(b=(_=k.next()).done);b=!0)y=_.value,a.uploadHW.list[y].loading=!1,a.uploadHW.list[y].success=!0;r.next=40;break;case 36:r.prev=36,r.t1=r.catch(32),w=!0,x=r.t1;case 40:r.prev=40,r.prev=41,!b&&k.return&&k.return();case 43:if(r.prev=43,!w){r.next=46;break}throw x;case 46:return r.finish(43);case 47:return r.finish(40);case 48:a.showUploadToast("上傳成功","success"),r.next=71;break;case 51:for(S=!0,C=!1,N=void 0,r.prev=54,T=n()(o);!(S=(H=T.next()).done);S=!0)D=H.value,a.uploadHW.list[D]=null;r.next=62;break;case 58:r.prev=58,r.t2=r.catch(54),C=!0,N=r.t2;case 62:r.prev=62,r.prev=63,!S&&T.return&&T.return();case 65:if(r.prev=65,!C){r.next=68;break}throw N;case 68:return r.finish(65);case 69:return r.finish(62);case 70:return r.abrupt("return",a.showUploadToast("上傳失敗! 請檢查網路狀態或注意上傳日期限制","error"));case 71:case"end":return r.stop()}},r,a,[[9,13,17,25],[18,,20,24],[32,36,40,48],[41,,43,47],[54,58,62,70],[63,,65,69]])}))()},removeAnswer:function(t,e){var a=this;return v()(u.a.mark(function r(){return u.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(confirm("確定要刪除這個檔案?")){r.next=2;break}return r.abrupt("return");case 2:return a.uploadHW.list[t]=null,a.showUploadToast("刪除成功","success"),r.next=6,m.a.changeCourse(a.courseID);case 6:return r.next=8,g.a.removeAnswer(a.courseID,a.uploadHW.workID,e);case 8:case"end":return r.stop()}},r,a)}))()}}}},bVJk:function(t,e){},c3KV:function(t,e){},cHtD:function(t,e,a){"use strict";var r=a("/5sW"),n=a("/ocq"),i=a("s6+2"),o=a("EWfp"),s=a("aaPh"),l=a("FjSB");r.default.use(n.a),e.a=new n.a({mode:"history",linkActiveClass:"active",routes:[{path:"/",component:o.a,children:[{name:"Main",path:"/",component:i.a},{name:"Course",path:"/course/:id",component:s.a},{name:"table",path:"/timeTable",component:l.a}]},{path:"/*",redirect:"/"}]})},crfu:function(t,e){},cwXR:function(t,e,a){"use strict";function r(t){a("G7YT")}var n=a("8S8f"),i=a("VU/8"),o=r,s=i(null,n.a,!1,o,null,null);e.a=s.exports},eJfl:function(t,e,a){"use strict";var r=a("Xxa5"),n=a.n(r),i=a("exGp"),o=a.n(i),s=a("Zrlr"),l=a.n(s),c=a("wxAW"),u=a.n(c),d=a("mtWM"),v=a.n(d),p=a("5Ywj"),f=a("DEN3"),h=function(){function t(){l()(this,t)}return u()(t,null,[{key:"getData",value:function(){function t(t){return e.apply(this,arguments)}var e=o()(n.a.mark(function t(e){var a,r,i,o,s;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v.a.get(f.ecourse.TEXTBOOK).catch(function(t){return p.a.errHandler(t,"Get Textbook Error!")});case 2:if(a=t.sent,t.prev=3,!(a.data.indexOf("沒有修課")>-1)){t.next=6;break}return t.abrupt("return",{stat:!0,data:{textbook:[],chapter:[]}});case 6:return r=/var Textbook\s=\s(.+)/.exec(a.data)[1],i=/var ChapTitle\s=\s(.+)/.exec(a.data)[1],o=JSON.parse(r.slice(0,-1)),s=JSON.parse(i.slice(0,-1)),console.log("Textbook:\n",o),t.abrupt("return",{stat:!0,data:{textbook:o,chapter:s}});case 14:return t.prev=14,t.t0=t.catch(3),p.a.errHandler(t.t0,"Parse Textbook Fail!"),t.abrupt("return",{stat:!1,data:{textbook:[],chapter:[]}});case 18:case"end":return t.stop()}},t,this,[[3,14]])}));return t}()}]),t}();e.a=h},f2Ia:function(t,e){},gdM5:function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{id:"course-table","align-center":"align-center"}},[a("v-layout",{ref:"layout",staticClass:"text-xs-center",attrs:{wrap:"wrap"}},[a("v-flex",{staticStyle:{"z-index":"3"},attrs:{xs12:"xs12"}},[a("div",{staticClass:"term",on:{click:function(e){t.changeTerm(t.fstTermYear,1)}}},[t._v("上學期")]),a("v-btn",{attrs:{flat:"flat",icon:"icon",loading:t.loading},on:{click:t.fetch}},[a("v-icon",{attrs:{id:"reload-table",light:"light"}},[t._v("mdi-refresh")])],1),a("div",{staticClass:"term",on:{click:function(e){t.changeTerm(t.secTermYear,2)}}},[t._v("下學期")])],1),a("v-flex",{attrs:{xs2:"xs2",sm2:"sm2",md1:"md1"}},t._l(t.hour,function(e,r){return a("div",{key:e,staticClass:"time-item",style:{top:15+r*t.timeHeight+"px"},on:{click:function(e){t.selected="none"}}},[a("span",[t._v(t._s(e)+" -")])])})),t._l(t.week,function(e,r){return a("v-flex",{key:e,attrs:{xs2:"xs2"},on:{click:function(e){t.selected="none"}}},[a("div",{staticClass:"course-item",on:{click:function(e){t.selected="none"}}},[t._v(t._s(e))]),t._l(t.table[r],function(e){return[a("div",{staticClass:"course-item",class:{active:t.selected===e.id,"pa-0":e.end-e.start<60},style:{top:e.distance*t.height+"px",height:(e.end-e.start)*t.height+"px"},on:{click:function(a){a.stopPropagation(),t.showInfo(e)}}},[a("div",{staticClass:"course-text-wrapper"},[a("span",{staticClass:"course-title",class:{small:e.name.length>7&&e.end-e.start<76}},[t._v(t._s(t.isMobile?e.name.slice(0,10):e.name))]),!t.isMobile&&(e.name.length<10||e.end-e.start>75)?a("span",[t._v(t._s(e.time))]):t._e()])])]})],2)}),a("v-dialog",{attrs:{width:"300px"},model:{value:t.dialog.flag,callback:function(e){t.$set(t.dialog,"flag",e)},expression:"dialog.flag"}},[a("div",{staticClass:"text-xs-center course-dialog"},[a("p",{staticStyle:{"font-size":"24px","padding-bottom":"20px"}},[t._v(t._s(t.dialog.name))]),a("p",[t._v("授課教授: "),a("b",[t._v(t._s(t.dialog.professor))])]),a("p",[t._v("上課地點: "),a("b",[t._v(t._s(t.dialog.location))])]),a("p",[t._v("上課時間: "),a("b",[t._v(t._s(t.dialog.time))])])])])],2)],1)},n=[],i={render:r,staticRenderFns:n};e.a=i},hbix:function(t,e){},ihBo:function(t,e,a){"use strict";var r=a("Gu7T"),n=a.n(r),i=a("Xxa5"),o=a.n(i),s=a("exGp"),l=a.n(s),c=a("Zrlr"),u=a.n(c),d=a("wxAW"),v=a.n(d),p=a("mw3O"),f=a.n(p),h=a("mtWM"),m=a.n(h),g=a("5Ywj"),b=a("DEN3"),w=new TextDecoder("big5"),x=function(){function t(){u()(this,t)}return v()(t,null,[{key:"getIndex",value:function(){function t(){return e.apply(this,arguments)}var e=l()(o.a.mark(function t(){var e;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.a.get(b.ecourse.INDEX,{responseType:"arraybuffer"}).catch(function(t){return g.a.errHandler(t,"Get MainPage Error!")});case 2:return e=t.sent,t.abrupt("return",w.decode(e.data));case 4:case"end":return t.stop()}},t,this)}));return t}()},{key:"getData",value:function(t){var e={name:"匿名用戶",classes:"抓取資料",studentId:"",department:"錯誤"};try{var a=/：([\u4e00-\u9fa5 a-zA-Z0-9\s()]+).{15}：([0-9]+).{15}：([\u4e00-\u9fa5\/a-zA-Z0-9]+).+?：([a-zA-Z0-9]+)/,r=[].concat(n()(a.exec(t)));return e={name:r[1],classes:r[4],studentId:r[2],department:r[3]}}catch(t){return g.a.errHandler(t,"Parse User Fail!"),e}}},{key:"login",value:function(){function t(t){return e.apply(this,arguments)}var e=l()(o.a.mark(function t(e){var a,r,n=this;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a={},r=!1,e=f.a.stringify(e),t.next=5,m.a.post(b.ecourse.LOGIN,e).then(function(t){r=!0}).catch(function(t){a.stat=n.crossHandler(t)});case 5:return t.next=7,m.a.post(b.ecourse.MOBILE,e).then(function(t){r=!0}).catch(function(t){a.stat=n.crossHandler(t)});case 7:return r&&(a.stat=!1,a.message="登入失敗: 帳號密碼錯誤"),t.abrupt("return",a);case 9:case"end":return t.stop()}},t,this)}));return t}()},{key:"logout",value:function(){function t(){return e.apply(this,arguments)}var e=l()(o.a.mark(function t(){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.a.get(b.ecourse.LOGOUT).catch(function(t){return g.a.errHandler(t,"Logout Error!")});case 2:case"end":return t.stop()}},t,this)}));return t}()},{key:"ping",value:function(){function t(){return e.apply(this,arguments)}var e=l()(o.a.mark(function t(){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.a.get(b.ecourse.PING).catch(function(t){return g.a.errHandler(t,"Ping Error!")});case 2:case"end":return t.stop()}},t,this)}));return t}()},{key:"crossHandler",value:function(t){return"Network Error"===t.message||(g.a.errHandler(t,"Login Error!"),!1)}}]),t}();e.a=x},kP4z:function(t,e){},kVeV:function(t,e){},lwwg:function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{key:t.$route.params.id,attrs:{row:"row",wrap:"wrap"}},[a("transition",{attrs:{name:"slide-x-transition"}},[t.isMobile&&"announce"===t.tag||!t.isMobile&&"score"!==t.tag?a("v-flex",{staticClass:"pl-2",attrs:{xs12:"xs12",md4:"md4"}},[a("v-card",{staticClass:"main-card elevation-1",attrs:{color:"grey lighten-5",flat:"flat"}},[a("v-toolbar",{staticStyle:{overflow:"hidden"},attrs:{dark:"dark",color:"primary",flat:"flat"}},[a("v-toolbar-side-icon",{directives:[{name:"show",rawName:"v-show",value:t.search.title,expression:"search.title"}]},[a("v-icon",[t._v("mdi-menu")])],1),a("v-toolbar-title",{directives:[{name:"show",rawName:"v-show",value:t.search.title,expression:"search.title"}],staticClass:"no-select"},[t._v("公告")]),a("v-spacer"),a("v-btn",{directives:[{name:"show",rawName:"v-show",value:!t.search.flag,expression:"!search.flag"}],attrs:{ripple:!1,icon:"icon","aria-label":"search"},on:{click:t.toggleSearch}},[a("v-icon",[t._v("mdi-magnify")])],1),a("v-text-field",{ref:"search",staticClass:"exp-search",class:{open:t.search.flag},attrs:{type:"text",label:"搜尋標題",solo:"solo","prepend-inner-icon":"mdi-magnify",light:"light"},on:{blur:t.toggleSearch},model:{value:t.search.keyword,callback:function(e){t.$set(t.search,"keyword",e)},expression:"search.keyword"}})],1),a("v-list",{staticClass:"tile-hover pa-0",attrs:{"two-line":"two-line",subheader:"subheader",light:"light"}},[a("v-subheader",{directives:[{name:"show",rawName:"v-show",value:t.search.keyword,expression:"search.keyword"}]},[t._v("搜尋結果")]),t._l(t.AnnounceList,function(e,r){return[a("v-list-tile",{directives:[{name:"show",rawName:"v-show",value:e.title.indexOf(t.search.keyword)>-1,expression:"item.title.indexOf(search.keyword) > -1"}],key:e.id,class:{yellow:t.focusItem==="1"+e.id},attrs:{avatar:"avatar"},nativeOn:{click:function(e){t.showAnnounce(r)}}},[a("v-list-tile-avatar",[e.timeStamp?a("v-badge",{staticClass:"notify",attrs:{overlap:"overlap",color:"red"},model:{value:t.AnnNotify[e.id],callback:function(a){t.$set(t.AnnNotify,e.id,a)},expression:"AnnNotify[item.id]"}},[a("span",{attrs:{slot:"badge"},slot:"badge"}),a("v-icon",{attrs:{medium:"medium"}},[t._v("mdi-widgets")])],1):t._e()],1),a("v-list-tile-content",[a("v-list-tile-title",[t._v(t._s(e.title))]),a("v-list-tile-sub-title",[t._v(t._s(e.timeStamp))])],1)],1),t.Setting.showDivider?a("v-divider"):t._e()]})],2)],1)],1):t._e()],1),a("transition",{attrs:{name:t.isMobile?"slide-x-transition":"slide-y-transition"}},[t.isMobile&&"homework"===t.tag||!t.isMobile&&"score"!==t.tag?a("v-flex",{staticClass:"pl-2",attrs:{xs12:"xs12",md4:"md4"}},[a("v-card",{staticClass:"main-card elevation-1",attrs:{id:"homework",color:"grey lighten-5",flat:"flat"}},[a("v-toolbar",{attrs:{color:"green",flat:"flat",dark:"dark"}},[a("v-toolbar-side-icon",[a("v-icon",[t._v("mdi-menu")])],1),a("v-toolbar-title",{staticClass:"no-select"},[t._v("作業")]),a("v-spacer"),a("v-tooltip",{staticClass:"mr-0 hidden-sm-and-down",attrs:{left:"left"}},[a("v-btn",{attrs:{slot:"activator",icon:"icon","aria-label":"score"},on:{click:t.showScore},slot:"activator"},[a("v-icon",[t._v("mdi-chart-line")])],1),a("span",[t._v("成績")])],1)],1),a("v-list",{staticClass:"tile-hover pa-0",attrs:{"two-line":"two-line",subheader:"subheader",light:"light"}},[t._l(t.HomeworkList,function(e,r){return[e.timeStamp===t.today?a("v-alert",{attrs:{type:"error",icon:"mdi-alert",transition:"scale-transition",value:!0}},[a("span",{staticStyle:{"font-size":"16px"}},[t._v("▼▼▼ 作業今日到期 😱")])]):t._e(),a("v-list-tile",{key:r,class:{yellow:t.focusItem==="2"+e.id},attrs:{ripple:"ripple",avatar:"avatar"},nativeOn:{click:function(e){t.showHomework(r)}}},[e.id?[a("v-list-tile-avatar",[e.timeStamp?a("v-badge",{staticClass:"notify",attrs:{overlap:"overlap",color:"red"},model:{value:t.HwNotify[e.id],callback:function(a){t.$set(t.HwNotify,e.id,a)},expression:"HwNotify[item.id]"}},[a("span",{attrs:{slot:"badge"},slot:"badge"}),a("v-icon",{attrs:{medium:"medium"}},[t._v("mdi-clipboard-text")])],1):t._e()],1),a("v-list-tile-content",[a("v-list-tile-title",[t._v(t._s(e.title))]),a("v-list-tile-sub-title",[t._v(t._s(e.timeStamp)+" / "+t._s(e.percentage)+"%")])],1),t.HwFile[e.id]&&t.HwFile[e.id].type?a("v-list-tile-action",[a("v-tooltip",{attrs:{top:"top"}},[a("v-btn",{attrs:{slot:"activator",icon:"icon","aria-label":"type",href:e.url+t.HwFile[e.id].type,target:"_blank"},slot:"activator"},[a("v-icon",{attrs:{large:"large",color:"grey lighten-1"}},[t._v(t._s(t.fileType[t.HwFile[e.id].type]||"mdi-file"))])],1),a("span",[t._v("作業題目")])],1)],1):t._e(),t.isMobile?t._e():a("v-list-tile-action",[a("v-btn",{attrs:{icon:"icon","aria-label":"upload"},on:{click:function(a){a.stopPropagation(),t.showUpload(e.id)}}},[a("v-icon",{attrs:{large:"large",color:"grey"}},[t._v("mdi-upload")])],1)],1)]:[a("v-list-tile-avatar"),a("v-list-tile-content",[a("v-list-tile-title",[t._v(t._s(e.title))])],1)]],2),t.Setting.showDivider?a("v-divider"):t._e()]})],2)],1)],1):t._e()],1),a("transition",{attrs:{name:t.isMobile?"slide-x-transition":"slide-x-reverse-transition"}},[t.isMobile&&"textbook"===t.tag||!t.isMobile&&"score"!==t.tag?a("v-flex",{staticClass:"pl-2",attrs:{xs12:"xs12",md4:"md4"}},[a("v-card",{staticClass:"main-card elevation-1",attrs:{id:"textbook",color:"grey lighten-5",flat:"flat",light:"light"}},[a("v-toolbar",{attrs:{color:"orange",flat:"flat",dark:"dark"}},[a("v-toolbar-side-icon",[a("v-icon",[t._v("mdi-menu")])],1),a("v-toolbar-title",{staticClass:"no-select"},[t._v("教材")]),a("v-spacer"),a("v-tooltip",{staticClass:"mr-0 hidden-sm-and-down",attrs:{left:"left"}},[a("v-btn",{attrs:{slot:"activator","aria-label":"outline",icon:"icon"},on:{click:t.getIntro},slot:"activator"},[a("v-icon",[t._v("mdi-book-open")])],1),a("span",[t._v("授課大綱")])],1),a("v-tooltip",{staticClass:"mr-0 hidden-sm-and-down",attrs:{left:"left"}},[a("v-btn",{attrs:{slot:"activator","aria-label":"info",icon:"icon"},on:{click:t.getTeacherInfo},slot:"activator"},[a("v-icon",[t._v("mdi-account-card-details")])],1),a("span",[t._v("教師資訊")])],1),a("v-divider",{attrs:{vertical:"vertical"}}),a("v-btn",{attrs:{"aria-label":"info",icon:"icon"},on:{click:t.sortTextbookAsce}},[a("v-icon",[t._v(t._s(1===t.textBookAsce?"mdi-sort-ascending":"mdi-sort-descending"))])],1),a("v-menu",{attrs:{"offset-y":"offset-y"}},[a("v-btn",{attrs:{slot:"activator","aria-label":"info",icon:"icon"},on:{click:function(t){}},slot:"activator"},[a("v-icon",[t._v(t._s(t.textbookSortIcon))])],1),a("v-list",{attrs:{light:"light"}},[a("v-list-tile",{on:{click:function(e){t.sortTextbookBy("filename")}}},[a("v-list-tile-title",[a("v-icon",[t._v("mdi-sort-alphabetical")]),t._v(" 檔案名稱")],1)],1),a("v-list-tile",{on:{click:function(e){t.sortTextbookBy("time")}}},[a("v-list-tile-title",[a("v-icon",[t._v("mdi-restore-clock")]),t._v(" 上傳時間")],1)],1),a("v-list-tile",{on:{click:function(e){t.sortTextbookBy("ext")}}},[a("v-list-tile-title",[a("v-icon",[t._v("mdi-puzzle")]),t._v(" 檔案類型")],1)],1)],1)],1)],1),a("v-list",{staticClass:"pa-0",attrs:{"two-line":"two-line",subheader:"subheader"}},[t.Setting.showIntro?a("v-list-tile",{staticClass:"hidden-md-and-up",on:{click:t.getIntro}},[a("v-list-tile-avatar",[a("v-icon",{attrs:{large:"large"}},[t._v("mdi-file-account")])],1),a("v-list-tile-content",[a("v-list-tile-title",[t._v("授課大綱")])],1)],1):t._e(),a("v-divider",{staticClass:"hidden-md-and-up"}),t.Setting.showTeacherInfo?a("v-list-tile",{staticClass:"hidden-md-and-up",on:{click:t.getTeacherInfo}},[a("v-list-tile-avatar",[a("v-icon",{attrs:{large:"large"}},[t._v("mdi-file-account")])],1),a("v-list-tile-content",[a("v-list-tile-title",[t._v("教師資訊")])],1)],1):t._e(),t.TextbookList.content[0].length?t._l(t.TextbookList.list,function(e,r){return[t.TextbookList.content[r]?a("v-list-group",{key:e[0],attrs:{value:0===r&&t.Setting.expandFirstFolder,"prepend-icon":"mdi-folder","append-icon":"mdi-chevron-down"}},[a("v-list-tile",{attrs:{slot:"activator",ripple:"ripple"},slot:"activator"},[a("v-list-tile-content",[a("v-list-tile-title",[t._v(t._s(e[0]))])],1)],1),t._l(t.TextbookList.content[r],function(e){return[a("v-list-tile",{key:e.filename,attrs:{title:e.filename,href:e.path,target:"_blank"}},[a("v-list-tile-action",[a("v-icon",{attrs:{large:"large"}},[t._v(t._s(t.fileType[e.ext]||"mdi-file"))])],1),a("v-list-tile-content",[a("v-list-tile-title",[t._v(t._s(e.filename))]),a("v-list-tile-sub-title",[t._v(t._s(e.time.split(" ")[0]))])],1)],1),t.Setting.showDivider?a("v-divider"):t._e()]})],2):t._e(),t.Setting.showDivider?a("v-divider"):t._e()]}):[a("v-divider",{staticClass:"hidden-md-and-up"}),a("v-list-tile",[a("v-list-tile-action",[a("v-icon",{attrs:{large:"large"}},[t._v("mdi-code")])],1),a("v-list-tile-content",[a("v-list-tile-title",[t._v("暫無教材")])],1)],1)]],2)],1)],1):t._e()],1),a("transition",{attrs:{name:t.isMobile?"slide-x-transition":"slide-y-reverse-transition"}},["score"===t.tag?a("v-flex",{staticClass:"pl-2",attrs:{xs12:"xs12",md6:"md6","offset-md1":"offset-md1"}},[a("v-card",{staticClass:"main-card",class:{"elevation-1":!t.Setting.scoreStyle2},attrs:{id:"score-card",color:"grey lighten-5",flat:"flat",light:"light"}},[a("v-toolbar",{attrs:{color:"red",flat:"flat",dark:"dark"}},[a("v-toolbar-side-icon",[a("v-icon",[t._v("mdi-menu")])],1),a("v-toolbar-title",{staticClass:"no-select"},[t._v("成績")]),a("v-spacer"),a("v-tooltip",{staticClass:"mr-0 hidden-sm-and-down",attrs:{left:"left"}},[a("v-btn",{attrs:{slot:"activator",icon:"icon","aria-label":"score"},on:{click:function(e){t.tag="yo~~"}},slot:"activator"},[a("v-icon",[t._v("mdi-clipboard-text")])],1),a("span",[t._v("作業")])],1)],1),t._l(t.ScoreData,function(e,r){return e&&e.length?[a("v-list",{staticClass:"tile-hover pa-0",class:{stripe:!t.Setting.scoreStyle2,"block-score":t.Setting.scoreStyle2},attrs:{subheader:"subheader"}},[a("v-subheader",[t._v(t._s(r))]),t._l(e,function(e){return a("v-list-tile",{key:e.name+e.percentage,class:{"yellow lighten-1":"總成績"===r,"color-indicator":t.Setting.rankColorBlock,"score-item":t.Setting.scoreStyle2,"elevation-1":t.Setting.scoreStyle2},style:{"border-color":e.color},attrs:{ripple:"ripple",avatar:"avatar"},on:{click:function(t){}}},[a("v-list-tile-content",[a("v-list-tile-title",[t._v(t._s(e.name))]),a("v-list-tile-sub-title",[t._v(t._s(e.percentage))])],1),a("v-list-tile-action",[a("v-btn",{staticClass:"score-block",attrs:{flat:"flat","aria-label":"rank",outline:"outline"}},[t._v(t._s(e.rank))])],1),a("v-list-tile-action",[a("v-btn",{staticClass:"score-block",attrs:{flat:"flat","aria-label":"score",outline:"outline"}},[t._v(t._s(e.score))])],1)],1)})],2)]:t._e()})],2)],1):t._e()],1),a("transition",{attrs:{name:t.isMobile?"slide-x-transition":"slide-y-reverse-transition"}},["score"===t.tag?a("v-flex",{staticClass:"pl-2",attrs:{xs12:"xs12",md4:"md4"}},[a("v-card",{staticClass:"main-card elevation-1",attrs:{id:"roll-card",color:"grey lighten-5",flat:"flat",light:"light"}},[a("v-toolbar",{attrs:{color:"purple",flat:"flat",dark:"dark"}},[a("v-toolbar-side-icon",[a("v-icon",[t._v("mdi-menu")])],1),a("v-toolbar-title",{staticClass:"no-select"},[t._v("點名")])],1),a("v-layout",{staticClass:"fix-flex",attrs:{row:"row",wrap:"wrap"}},[t._l(t.RollData,function(e){return[a("v-flex",{staticClass:"fix-flex-item roll-wrapper",attrs:{xs3:"xs3",sm3:"sm3",md2:"md2"}},[a("div",{staticClass:"roll-item"},[a("div",{staticClass:"text",staticStyle:{"font-weight":"800"}},[t._v(t._s(e[0]))]),"出席"===e[1]?a("div",{staticClass:"checkmark"}):t._e()])])]}),t.RollData.length?t._e():a("v-flex",{attrs:{xs12:"xs12"}},[a("v-card",{attrs:{flat:"flat"}},[a("v-card-title",[t._v("沒有點名資料")])],1)],1)],2)],1)],1):t._e()],1),a("v-dialog",{attrs:{"max-width":t.isMobile?350:490},model:{value:t.announce.flag,callback:function(e){t.$set(t.announce,"flag",e)},expression:"announce.flag"}},[a("v-card",{staticClass:"announce-dialog-box",attrs:{id:"announce",light:"light"}},[a("v-snackbar",{attrs:{timeout:1e3,top:"top",absolute:"absolute",color:"success"},model:{value:t.announce.toastShow,callback:function(e){t.$set(t.announce,"toastShow",e)},expression:"announce.toastShow"}},[t._v(t._s(t.announce.message))]),a("v-card-title",{staticClass:"headline"},[a("div",{staticClass:"text-xs-center",class:{"hidden-more-text":t.isMobile}},[a("span",[t._v(t._s(t.announce.title))])]),a("v-spacer"),a("v-tooltip",{attrs:{top:"top"}},[a("v-btn",{attrs:{slot:"activator",icon:"icon","aria-label":"copy"},on:{click:t.copyAnnounce},slot:"activator"},[a("v-icon",[t._v("mdi-content-copy")])],1),a("span",[t._v("複製")])],1)],1),a("v-card-text",{domProps:{innerHTML:t._s(t.announce.content)}}),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{flat:"flat","aria-label":"close",color:"green darken-1"},nativeOn:{click:function(e){t.announce.flag=!1}}},[t._v("關閉")]),a("v-spacer")],1)],1)],1),a("v-dialog",{attrs:{"max-width":"490"},model:{value:t.homework.flag,callback:function(e){t.$set(t.homework,"flag",e)},expression:"homework.flag"}},[a("v-card",{staticClass:"announce-dialog-box",attrs:{id:"hw",light:"light"}},[a("v-card-title",{staticClass:"headline"},[a("div",{staticClass:"text-xs-center",class:{"hidden-more-text":t.isMobile}},[a("span",[t._v(t._s(t.homework.title))])]),a("v-spacer"),t.isMobile?a("v-btn",{attrs:{icon:"icon","aria-label":"upload"},on:{click:function(e){t.showUpload(t.homework.id)}}},[a("v-icon",{attrs:{color:"grey darken-2"}},[t._v("mdi-upload")])],1):t._e()],1),a("v-card-text",{domProps:{innerHTML:t._s(t.homework.content)}}),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{flat:"flat","aria-label":"close",color:"green darken-1"},nativeOn:{click:function(e){t.homework.flag=!1}}},[t._v("關閉")]),a("v-spacer")],1)],1)],1),a("v-dialog",{attrs:{"max-width":"600",persistent:"persistent"},model:{value:t.uploadHW.flag,callback:function(e){t.$set(t.uploadHW,"flag",e)},expression:"uploadHW.flag"}},[a("v-card",{staticClass:"announce-dialog-box",staticStyle:{"background-color":"#f2f2f2"},attrs:{id:"file-upload",light:"light"}},[a("v-snackbar",{attrs:{timeout:1e3,top:"top",color:t.uploadHW.toastColor,absolute:"absolute"},model:{value:t.uploadHW.toastShow,callback:function(e){t.$set(t.uploadHW,"toastShow",e)},expression:"uploadHW.toastShow"}},[t._v(t._s(t.uploadHW.message))]),a("div",{staticClass:"headline text-xs-center pa-3"},[t._v("作業上傳"),a("v-btn",{staticClass:"right ma-0",attrs:{icon:"icon",ripple:"ripple","aria-label":"close"},on:{click:function(e){t.uploadHW.flag=!1}}},[a("v-icon",{attrs:{medium:"medium"}},[t._v("mdi-close")])],1)],1),a("v-layout",{attrs:{row:"row",wrap:"wrap"}},[a("v-container",{attrs:{fluid:"fluid"}},[t.uploadHW.list.length?a("v-subheader",{staticStyle:{color:"rgba(0,0,0,0.54)"}},[t._v("已交作業")]):t._e(),a("v-layout",{attrs:{row:"row",wrap:"wrap"}},t._l(t.uploadHW.list,function(e,r){return e?a("v-flex",{key:r,staticClass:"upload-wrapper",attrs:{xs12:"xs12",sm6:"sm6"}},[a("div",{staticClass:"white upload-item elevation-2"},[a("v-text-field",{class:{"input-group--focused":e.success},attrs:{"append-icon":e.success?"mdi-check-circle":e.loading?"mdi-auto-fix":"mdi-delete","append-icon-cb":function(){return t.removeAnswer(r,e.name)},color:e.success?"green":"gray",loading:"loading",readonly:"readonly",label:e.size},nativeOn:{click:function(a){t.downloadAns(e.name)}},model:{value:e.fName||e.name,callback:function(a){t.$set(e.fName||e,"name",a)},expression:"file.fName || file.name"}},[e.loading?a("v-progress-linear",{attrs:{slot:"progress",indeterminate:!0,value:1,height:"4"},slot:"progress"}):t._e()],1)],1)]):t._e()})),a("v-subheader",{staticStyle:{color:"rgba(0,0,0,0.54)"}},[t._v("上傳檔案    "),a("span",{staticClass:"red--text"},[t._v("※檔案上限為20mb")])]),a("v-flex",{attrs:{xs12:"xs12"}},[a("v-layout",{attrs:{row:"row",wrap:"wrap"}},[a("v-flex",{attrs:{xs8:"xs8",sm9:"sm9",md10:"md10"}},[a("v-textarea",{staticClass:"white-text-field",attrs:{id:"send-text-input",outline:"outline",label:"直接上傳答案文字","auto-grow":"auto-grow"},model:{value:t.uploadHW.content,callback:function(e){t.$set(t.uploadHW,"content",e)},expression:"uploadHW.content"}})],1),a("v-flex",{staticClass:"pl-2",attrs:{xs4:"xs4",sm3:"sm3",md2:"md2"}},[a("v-tooltip",{attrs:{left:"left"}},[a("v-btn",{staticClass:"mt-0",attrs:{slot:"activator",id:"send-text-btn","aria-label":"send",color:"red darken-1",block:"block",dark:"dark"},on:{click:function(e){t.uploadText(e)}},slot:"activator"},[a("v-icon",[t._v("mdi-send")])],1),a("span",[t._v("送出")])],1)],1)],1)],1),a("v-flex",{attrs:{xs12:"xs12"}},[a("v-layout",{attrs:{row:"row",wrap:"wrap"}},[a("v-flex",{attrs:{xs6:"xs6"}},[a("v-card",{staticClass:"upload-type",staticStyle:{"margin-right":"5px"},attrs:{color:"blue darken-1",dark:"dark"},nativeOn:{click:function(e){t.$refs.uploadInput.click()}}},[a("p",{staticClass:"text-xs-center"},[a("v-icon",{attrs:{dark:"dark"}},[t._v("mdi-upload")]),t._v("上傳檔案")],1),a("input",{ref:"uploadInput",attrs:{type:"file",multiple:!1},on:{change:function(e){t.uploadFile(e,!1)}}})])],1),a("v-flex",{attrs:{xs6:"xs6"}},[a("v-card",{staticClass:"upload-type",staticStyle:{"margin-left":"5px"},attrs:{color:"green darken-1",dark:"dark"},nativeOn:{click:function(e){t.$refs.uploadMulInput.click()}}},[a("p",{staticClass:"text-xs-center"},[a("v-icon",{attrs:{dark:"dark"}},[t._v("mdi-upload-multiple")]),t._v("相關檔案")],1),a("input",{ref:"uploadMulInput",attrs:{type:"file",multiple:!0},on:{change:function(e){t.uploadFile(e,!0)}}})])],1)],1)],1)],1)],1)],1)],1)],1)},n=[],i={render:r,staticRenderFns:n};e.a=i},nid1:function(t,e,a){"use strict";var r=a("Xxa5"),n=a.n(r),i=a("exGp"),o=a.n(i),s=a("Zrlr"),l=a.n(s),c=a("wxAW"),u=a.n(c),d=a("mtWM"),v=a.n(d),p=a("5Ywj"),f=a("DEN3"),h=new TextDecoder("big5"),m=function(){function t(){l()(this,t)}return u()(t,null,[{key:"getList",value:function(t){try{for(var e=/login_s\.php\?courseid=[0-9]+_[0-9]+_([0-9]+)" target="_top">(.+?)<\/a>.+?;">([\u4e00-\u9fa5]+)<\/a>/g,a=e.exec(t),r=[];a;)r.push({id:a[1],name:a[2],professor:a[3]}),a=e.exec(t);return console.log("CourseList:\n",r),{stat:!0,data:r}}catch(t){return p.a.errHandler(t,"Parse Course Fail!"),{stat:!1,data:localStorage.courseList?JSON.parse(localStorage.courseList):[]}}}},{key:"changeCourse",value:function(){function t(t){return e.apply(this,arguments)}var e=o()(n.a.mark(function t(e){var a,r,i,o,s,l;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a=new Date,r=a.toISOString().split("T")[0].split("-")[0],i=1,o=new Date(r,1,1),s=new Date(r,6,1),r-=1911,a>o&&a<s?(r-=1,i=2):a<=o&&(r-=1),e!==this.previousID){t.next=9;break}return t.abrupt("return",!1);case 9:return this.previousID=e,t.next=12,v.a.get(f.ecourse.COURSE_SELECT,{responseType:"arraybuffer",params:{courseid:r+"_"+i+"_"+e}}).catch(function(t){return p.a.errHandler});case 12:return l=t.sent,t.abrupt("return",-1===h.decode(l.data).indexOf("權限錯誤"));case 14:case"end":return t.stop()}},t,this)}));return t}()}]),t}();e.a=m},nx4Q:function(t,e,a){"use strict";var r=a("mvHQ"),n=a.n(r),i=a("//Fk"),o=a.n(i),s=a("BO1k"),l=a.n(s),c=a("Xxa5"),u=a.n(c),d=a("exGp"),v=a.n(d),p=a("Zrlr"),f=a.n(p),h=a("wxAW"),m=a.n(h),g=a("mw3O"),b=a.n(g),w=a("mtWM"),x=a.n(w),k=a("5Ywj"),_=a("Ba3q"),y=a.n(_),S=new TextDecoder("big5"),C=a("DEN3"),N=function(){function t(){f()(this,t)}return m()(t,null,[{key:"getData",value:function(){function t(t){return e.apply(this,arguments)}var e=v()(u.a.mark(function t(e){var a,r,n;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x.a.get(C.ecourse.HOMEWORK).catch(function(t){return k.a.errHandler(t,"Get Homework Error!")});case 2:if(a=t.sent,t.prev=3,!(a.data.indexOf("沒有修課")>-1)){t.next=6;break}return t.abrupt("return",{stat:!0,data:[[],[],[]]});case 6:return r=/var js\s=\s(.+)/.exec(a.data)[1],n=JSON.parse(r.slice(0,-1)),console.log("Homework:\n",n),t.abrupt("return",{stat:!0,data:this.parseData(n)});case 12:return t.prev=12,t.t0=t.catch(3),k.a.errHandler(t.t0,"Parse Homework Fail!"),t.abrupt("return",{stat:!1,data:[[],[],[]]});case 16:case"end":return t.stop()}},t,this,[[3,12]])}));return t}()},{key:"parseData",value:function(t){var e=[],a=new Date,r=localStorage.hwNotify?JSON.parse(localStorage.hwNotify):{};return[t.reduce(function(t,n){var i=n[0],o=n[1];return r[i]||(r[i]={}),t[i]=null===n[2]?[{title:"暫無作業"}]:n[2].reduce(function(t,n){var s=n[1];if(void 0===r[i][s]){var l=Math.abs(a-new Date(n[3]))<3456e5;if(r[i][s]=l,l){var c=o.split(/[^A-Za-z]/)[0].substring(0,4)||o.substring(0,2);e.push({type:2,id:s,abbr:c,title:n[0],course:o,courseID:i,timeStamp:n[3]})}}return t.push({id:n[1],title:n[0],content:n[4]||"沒有內容",url:C.ecourse.HOST+"/"+i+"/homework/"+n[1]+"/teacher/Question.",percentage:n[2],timeStamp:n[3]}),y()(t,["timeStamp","title"],["desc","asc"])},[]),t},{}),r,e]}},{key:"getAllQuestion",value:function(){function t(t){return e.apply(this,arguments)}var e=v()(u.a.mark(function t(e){var a,r,i,s,c,d,v,p,f,h,m,g,b;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:a=Date.now(),r=k.a.getToday(),this.homeworkFile={},i=[],s=localStorage.homeworkFile?JSON.parse(localStorage.homeworkFile):{},t.t0=u.a.keys(e);case 6:if((t.t1=t.t0()).done){t.next=40;break}c=t.t1.value,this.homeworkFile[c]={},d=!0,v=!1,p=void 0,t.prev=12,f=l()(e[c]);case 14:if(d=(h=f.next()).done){t.next=24;break}if(m=h.value,m.id){t.next=18;break}return t.abrupt("continue",21);case 18:g=m.id,b=!!s[c]&&!!s[c][g]&&(r>m.timeStamp||a<s[c][g].timeStamp+864e5),b?this.homeworkFile[c][g]=s[c][g]:i.push(this.getQuestion(c,g,a));case 21:d=!0,t.next=14;break;case 24:t.next=30;break;case 26:t.prev=26,t.t2=t.catch(12),v=!0,p=t.t2;case 30:t.prev=30,t.prev=31,!d&&f.return&&f.return();case 33:if(t.prev=33,!v){t.next=36;break}throw p;case 36:return t.finish(33);case 37:return t.finish(30);case 38:t.next=6;break;case 40:return t.next=42,o.a.all(i);case 42:return localStorage.homeworkFile=n()(this.homeworkFile),t.abrupt("return",{stat:!0,data:this.homeworkFile});case 44:case"end":return t.stop()}},t,this,[[12,26,30,38],[31,,33,37]])}));return t}()},{key:"getQuestion",value:function(){function t(t,a,r){return e.apply(this,arguments)}var e=v()(u.a.mark(function t(e,a,r){var n,i;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x.a.get(C.ecourse.UNDER_DIR_FILE,{params:{action:"Question",courseid:e,workid:a}}).catch(function(t){return k.a.errHandler(t,"Get Question Error!")});case 2:n=t.sent,i={type:null,timeStamp:r},n.data.size&&(i.type=n.data.type.slice(1)),this.homeworkFile[e][a]=i;case 6:case"end":return t.stop()}},t,this)}));return t}()},{key:"getAnswer",value:function(){function t(t,a){return e.apply(this,arguments)}var e=v()(u.a.mark(function t(e,a){var r,n,i,o,s,c,d,v;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x.a.get(C.ecourse.UNDER_DIR_FILE,{params:{action:"seemywork",courseid:e,workid:a}}).catch(function(t){return k.a.errHandler(t,"Get Answer Error!")});case 2:if(r=t.sent,!Array.isArray(r.data)){t.next=28;break}for(n=[],r.data.pop(),i=!0,o=!1,s=void 0,t.prev=9,c=l()(r.data);!(i=(d=c.next()).done);i=!0)v=d.value,n.push({name:v[0],size:k.a.getSize(v[1]),timeStamp:v[2]});t.next=17;break;case 13:t.prev=13,t.t0=t.catch(9),o=!0,s=t.t0;case 17:t.prev=17,t.prev=18,!i&&c.return&&c.return();case 20:if(t.prev=20,!o){t.next=23;break}throw s;case 23:return t.finish(20);case 24:return t.finish(17);case 25:return t.abrupt("return",n);case 28:if(r.data.work){t.next=30;break}return t.abrupt("return",[]);case 30:return t.abrupt("return",[{id:1e3*Math.random(),name:"homework.html",fName:"文字答案",size:"",timeStamp:r.data.mtime}]);case 31:case"end":return t.stop()}},t,this,[[9,13,17,25],[18,,20,24]])}));return t}()},{key:"uploadText",value:function(){function t(t,a){return e.apply(this,arguments)}var e=v()(u.a.mark(function t(e,a){var r,n;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=b.a.stringify({ans:e,work_id:a,action:"handinwork"}),t.next=3,x.a.post(C.ecourse.SHOW_WORK,r,{responseType:"arraybuffer"});case 3:return n=t.sent,t.abrupt("return",S.decode(n.data).indexOf("完成繳交作業")>-1);case 5:case"end":return t.stop()}},t,this)}));return t}()},{key:"uploadFile",value:function(){function t(t,a,r,n){return e.apply(this,arguments)}var e=v()(u.a.mark(function t(e,a,r,n){var i,o,s,l;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=new FormData,i.append("work_id",n),a)for(i.append("action","uploadotherwork"),o=0;o<e.length;o++)s=e[o],i.append("uploadfile"+o,s);else i.append("action","uploadstuwork"),i.append("uploadfile1",e[0],e[0].name);return t.next=5,x.a.post(C.ecourse.SHOW_WORK,i,{responseType:"arraybuffer"});case 5:return l=t.sent,t.abrupt("return",S.decode(l.data).indexOf("成功")>-1);case 7:case"end":return t.stop()}},t,this)}));return t}()},{key:"removeAnswer",value:function(){function t(t,a,r){return e.apply(this,arguments)}var e=v()(u.a.mark(function t(e,a,r){return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x.a.get(C.ecourse.UNDER_DIR_FILE,{params:{action:"delete",courseid:e,workid:a,filename:r}});case 2:case"end":return t.stop()}},t,this)}));return t}()}]),t}();e.a=N},pfgP:function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-app",{class:{"weather-theme":t.setting.weatherTheme},staticStyle:{"background-color":"#FFF"},attrs:{id:"ccu",dark:"dark"}},[r("v-navigation-drawer",{staticClass:"gray-bg",attrs:{persistent:"persistent","enable-resize-watcher":"enable-resize-watcher",app:"app"},model:{value:t.flag.drawer,callback:function(e){t.$set(t.flag,"drawer",e)},expression:"flag.drawer"}},[r("v-toolbar",{staticClass:"pa-3",attrs:{id:"personal-info",flat:"flat"}},[r("v-list",{staticClass:"pa-0",attrs:{"two-line":"two-line"}},[t.User.loggedIn?r("v-list-tile",{staticClass:"px-4",attrs:{avatar:"avatar",ripple:"ripple"}},[r("v-list-tile-avatar",{attrs:{size:"58"}},[r("div",{attrs:{id:"avatar-overlay"},on:{click:function(e){t.$refs.avatar.click()}}},[r("v-icon",{attrs:{dark:"dark"}},[t._v("mdi-cloud-upload")]),r("input",{ref:"avatar",attrs:{type:"file"},on:{change:t.uploadAvatar}})],1),t.avatar.length?r("img",{staticClass:"avatar-wrapper elevation-1",staticStyle:{"object-fit":"cover"},attrs:{src:t.avatar}}):r("img",{staticClass:"avatar-wrapper elevation-1",attrs:{src:a("NMl0")}})]),r("v-list-tile-content",{staticClass:"ml-3"},[r("v-list-tile-title",[t._v(t._s(t.User.name))]),r("v-list-tile-sub-title",{staticClass:"blue-grey--text lighten-1--text"},[r("v-icon",{staticClass:"blue-grey--text lighten-1--text body-1"},[t._v("mdi-map-marker")]),r("span",[t._v(t._s(t.User.department)+" | "+t._s(t.User.classes))])],1)],1)],1):r("v-list-tile",{staticClass:"px-4"},[r("v-list-tile-content",[r("v-btn",{attrs:{color:"primary","aria-label":"login",loading:t.User.loading,disabled:t.User.loading},on:{click:t.showLogin}},[t._v("登入")])],1)],1)],1)],1),r("v-list",{staticClass:"pt-0 striped course-list",attrs:{dense:"dense","two-line":t.isMobile,"three-line":!t.isMobile,light:"light"}},[r("v-list-tile",[r("v-list-tile-action",[r("div")]),r("v-list-tile-content",[r("v-list-tile-title",{attrs:{id:"course-head"}},[r("span",[t._v("課程列表")])])],1),r("v-list-tile-action",[r("v-tooltip",{attrs:{right:"right"}},[r("v-btn",{attrs:{slot:"activator",icon:"icon",color:"green lighten-3","aria-label":"table",to:{name:"table"},light:"light"},slot:"activator"},[r("v-icon",[t._v("mdi-table-large")])],1),r("span",[t._v("課表")])],1)],1)],1),t._l(t.CourseList,function(e,a){return r("v-list-tile",{key:e.id,attrs:{to:{name:"Course",params:{id:e.id}},ripple:!t.isMobile}},[r("v-list-tile-action",[r("div")]),r("v-list-tile-content",[r("v-list-tile-title",{staticClass:"course-list-name"},[r("span",[t._v(t._s(e.name))])]),r("v-list-tile-sub-title",[r("span",[t._v(t._s(e.professor))])])],1)],1)})],2)],1),r("v-toolbar",{class:{"is-scroll":t.isScroll},attrs:{id:"color-nav",dark:"dark",color:"primary",fixed:"fixed",app:"app"}},[r("v-toolbar-side-icon",{on:{click:function(e){e.stopPropagation(),t.flag.drawer=!t.flag.drawer}}},[r("v-icon",[t._v("mdi-menu")])],1),r("router-link",{staticClass:"cursor-p",attrs:{tag:"div",to:"/"}},[r("v-toolbar-title",{staticClass:"no-select ml-2",attrs:{id:"ecourse-logo"}},[t._v("eCourse+")])],1),r("v-spacer"),r("v-menu",{staticClass:"mr-1",attrs:{id:"notify-menu",left:"left","offset-y":"offset-y","nudge-top":"-10","min-width":"200","max-width":t.isMobile?340:600,"max-height":(t.isMobile,500)}},[r("v-btn",{attrs:{slot:"activator",id:"notification-btn",icon:"icon","aria-label":"notify"},slot:"activator"},[r("v-badge",{directives:[{name:"show",rawName:"v-show",value:t.Notify.length,expression:"Notify.length"}],attrs:{overlap:"overlap",color:t.setting.weatherTheme?"red darken-1":"blue"}},[r("span",{attrs:{slot:"badge"},slot:"badge"},[t._v(t._s(t.Notify.length))]),r("v-icon",[t._v("mdi-bell")])],1),r("v-icon",{directives:[{name:"show",rawName:"v-show",value:!t.Notify.length,expression:"!Notify.length"}]},[t._v("mdi-bell")])],1),r("v-card",{staticClass:"elevation-8",attrs:{id:"notify-card",light:"light"}},[r("v-card-title",[t._v("通知"),r("v-spacer"),r("a",{directives:[{name:"show",rawName:"v-show",value:t.Notify.length>0,expression:"Notify.length>0"}],on:{click:function(e){t.updateNotify(null)}}},[t._v("清除全部")])],1),r("v-list",{staticClass:"tile-hover pa-0",attrs:{"two-line":"two-line",subheader:"subheader"}},[r("transition-group",{attrs:{name:"slide",tag:"div"}},[t._l(t.HomeworkData,function(e,a){return[t._l(e,function(e,n){return e.timeStamp&&e.timeStamp===t.today?[r("v-divider",{key:a+n}),r("v-list-tile",{key:a+n+1,attrs:{ripple:"ripple",avatar:"avatar"}},[r("v-list-tile-avatar",[r("v-avatar",{staticClass:"notify-avatar",class:t.notifyColor[n%6]},[r("v-icon",{attrs:{dark:"dark"}},[t._v("mdi-alarm")])],1)],1),r("v-list-tile-content",[r("v-list-tile-title",[t._v("作業"),r("b",[t._v("《"+t._s(e.title)+"》")]),t._v(" 今天到期，去看看吧")]),r("v-list-tile-sub-title",[t._v(t._s(e.timeStamp))])],1)],1)]:t._e()})]}),t._l(t.Notify,function(e,a){return[r("v-divider",{key:e.course+e.title+e.type}),r("v-list-tile",{key:e.courseID+e.title+e.type,attrs:{ripple:"ripple",avatar:"avatar"},nativeOn:{click:function(a){t.toNotify(e)}}},[r("v-list-tile-avatar",[r("v-avatar",{staticClass:"notify-avatar",class:t.notifyColor[a%6]},[r("span",{staticClass:"white--text"},[t._v(t._s(e.abbr||e.course.substring(0,2)))])])],1),r("v-list-tile-content",[r("v-list-tile-title",[r("b",[t._v(t._s(e.course))]),t._v(t._s(1===e.type?"發布了新公告":"發布了新作業")),r("b",[t._v("《"+t._s(e.title)+"》")])]),r("v-list-tile-sub-title",[r("v-icon",[t._v(t._s(1===e.type?"mdi-bullhorn":"mdi-clipboard-text"))]),t._v(" "+t._s(e.timeStamp))],1)],1),r("v-list-tile-action",[r("v-btn",{attrs:{small:"small",icon:"icon"},on:{click:function(e){e.stopPropagation(),t.updateNotify(a)}}},[r("v-icon",{attrs:{small:"small"}},[t._v("mdi-close")])],1)],1)],1)]})],2),0===t.Notify.length?[r("v-divider"),r("v-list-tile",{attrs:{ripple:"ripple",avatar:"avatar"}},[r("v-list-tile-avatar",[r("v-avatar",{staticClass:"notify-avatar red"},[r("span",{staticClass:"white--text"},[t._v("No~")])])],1),r("v-list-tile-content",[r("v-list-tile-title",[t._v("目前沒有通知 ┐( ´ д ` )┌")])],1)],1)]:t._e()],2)],1)],1),r("v-menu",{attrs:{left:"left","offset-y":"offset-y","nudge-top":"-10"}},[r("v-btn",{attrs:{slot:"activator",id:"setting-btn",icon:"icon","aria-label":"setting"},slot:"activator"},[r("v-icon",[t._v("mdi-settings")])],1),r("v-list",{attrs:{light:"light"}},[r("v-list-tile",{staticClass:"list__tile--link",on:{click:function(e){t.flag.setting=!0}}},[r("v-list-tile-title",{staticClass:"fix-icon"},[r("v-icon",[t._v("mdi-settings")]),t._v("  設定")],1)],1),r("v-list-tile",{staticClass:"list__tile--link",on:{click:function(e){t.flag.theme=!0}}},[r("v-list-tile-title",[r("v-icon",[t._v("mdi-brightness-6")]),t._v("  主題")],1)],1),r("v-list-tile",{staticClass:"list__tile--link",on:{click:function(e){t.flag.about=!0}}},[r("v-list-tile-title",[r("v-icon",[t._v("mdi-flash-circle")]),t._v("  關於本站")],1)],1),r("v-divider"),t.User.loggedIn?t._e():r("v-list-tile",{staticClass:"list__tile--link",on:{click:function(e){t.User.modal=!0}}},[r("v-list-tile-title",[r("v-icon",[t._v("mdi-logout-variant")]),t._v("  登入")],1)],1),t.User.loggedIn?r("v-list-tile",{staticClass:"list__tile--link",on:{click:t.logout}},[r("v-list-tile-title",[r("v-icon",[t._v("mdi-logout-variant")]),t._v("  登出")],1)],1):t._e()],1)],1)],1),r("v-snackbar",{staticClass:"short",attrs:{timeout:t.toast.timeout,top:"top",color:t.toast.color,"multi-line":t.toast.multi},model:{value:t.toast.show,callback:function(e){t.$set(t.toast,"show",e)},expression:"toast.show"}},[t._v(t._s(t.toast.message))]),r("div",{staticClass:"theme-wrapper"},[t.setting.weatherTheme?r("svg",{staticClass:"bg-mask",class:t.currWeather,attrs:{viewBox:"0 0 1 1",preserveAspectRatio:"xMidYMid slice"}},[r("defs",[r("mask",{attrs:{id:"mask",fill:"url(#gradient)"}},[r("rect",{attrs:{x:"0",y:"0",width:"1",height:"1"}})]),r("linearGradient",{attrs:{id:"gradient",x1:"0",y1:"0",x2:"100%",y2:"0",spreadMethod:"pad",gradientTransform:"rotate(45)"}},[r("stop",{attrs:{offset:"0%","stop-color":"#fff","stop-opacity":"1"}}),r("stop",{attrs:{offset:"100%","stop-color":"#fff","stop-opacity":"0"}})],1)],1),r("rect",{staticClass:"gradient-bg",attrs:{x:"0",y:"0",width:"1",height:"1"}}),r("rect",{staticClass:"gradient-fg",attrs:{x:"0",y:"0",width:"1",height:"1",mask:"url(#mask)"}})]):t._e(),t.setting.weatherTheme?r("div",{class:{horizon:"/"===t.$route.path},attrs:{id:"mountain"}}):t._e()]),r("v-content",{class:{"mb-5":t.$route.params.id,"mb-0":!t.$route.params.id}},[r("v-container",{class:{"py-5":!t.isMobile,"main-page":"/"===t.$route.path},attrs:{fluid:"fluid","fill-height":"fill-height","align-center":"align-center"}},[r("transition",{attrs:{name:"slide",mode:"out-in"}},[r("keep-alive",[r("router-view",{attrs:{tab:t.tag,focusItem:t.focusItem},on:{"update:tab":function(e){t.tag=e},"update:focusItem":function(e){t.focusItem=e}}})],1)],1)],1)],1),t.$route.params.id?r("v-bottom-nav",{staticClass:"hidden-md-and-up",attrs:{app:"app",fixed:"fixed",shift:"shift",active:t.tag,color:t.bottomNavColor},on:{"update:active":function(e){t.tag=e}}},[r("v-btn",{attrs:{dark:"dark",value:"announce"}},[r("span",[t._v("公告")]),r("v-icon",[t._v("mdi-calendar-text")])],1),r("v-btn",{attrs:{dark:"dark",value:"homework"}},[r("span",[t._v("作業")]),r("v-icon",[t._v("mdi-clipboard-text")])],1),r("v-btn",{attrs:{dark:"dark",value:"textbook"}},[r("span",[t._v("教材")]),r("v-icon",[t._v("mdi-book-open-variant")])],1),r("v-btn",{attrs:{dark:"dark",value:"score"}},[r("span",[t._v("成績")]),r("v-icon",[t._v("mdi-chart-line")])],1)],1):t._e(),r("v-fab-transition",[r("v-btn",{directives:[{name:"show",rawName:"v-show",value:t.isScroll,expression:"isScroll"},{name:"scroll",rawName:"v-scroll",value:t.onScroll,expression:"onScroll"}],staticClass:"hidden-sm-and-down",staticStyle:{margin:"6px 8px"},attrs:{fixed:"fixed","aria-label":"fab",bottom:"bottom",right:"right",dark:"dark",fab:"fab",color:"red"},on:{click:t.toTop}},[r("v-icon",[t._v("mdi-chevron-up")])],1)],1),r("v-dialog",{attrs:{"max-width":"450"},model:{value:t.flag.theme,callback:function(e){t.$set(t.flag,"theme",e)},expression:"flag.theme"}},[r("v-toolbar",{staticClass:"cyan no-select",attrs:{dark:"dark"}},[r("v-icon",[t._v("mdi-brightness-6")]),r("v-toolbar-title",[t._v("主題")]),r("v-spacer"),r("v-btn",{attrs:{icon:"icon"},on:{click:function(e){t.flag.theme=!1}}},[r("v-icon",[t._v("mdi-close")])],1)],1),r("v-card",{staticClass:"dialog-box",attrs:{light:"light"}},[r("v-container",{attrs:{fluid:"fluid","grid-list-md":"grid-list-md"}},[r("v-layout",{attrs:{row:"row",wrap:"wrap"}},[r("v-flex",{attrs:{xs6:"xs6"}},[r("v-card",{staticClass:"theme-card",nativeOn:{click:function(e){t.setting.weatherTheme=!1}}},[r("v-img",{attrs:{src:a("NMl0"),height:"200px"}}),r("v-card-text",[t._v("預設主題"),r("br",{staticClass:"hidden-md-and-up"}),t._v("( • ̀ω•́ )")])],1)],1),r("v-flex",{attrs:{xs6:"xs6"}},[r("v-card",{staticClass:"theme-card",nativeOn:{click:function(e){t.setting.weatherTheme=!0}}},[r("v-img",{attrs:{src:a("Ri/9"),height:"200px"}}),r("v-card-text",[t._v("天色主題"),r("br",{staticClass:"hidden-md-and-up"}),t._v("ε≡ﾍ( ´∀`)ﾉ")])],1)],1)],1)],1)],1)],1),r("v-dialog",{attrs:{"max-width":"450",fullscreen:t.isMobile,scroll:"scroll"},model:{value:t.flag.setting,callback:function(e){t.$set(t.flag,"setting",e)},expression:"flag.setting"}},[r("v-toolbar",{staticClass:"blue no-select",attrs:{dark:"dark",fixed:t.isMobile}},[r("v-icon",[t._v("mdi-wrench")]),r("v-toolbar-title",[t._v("設定")]),r("v-spacer"),r("v-btn",{attrs:{icon:"icon"},on:{click:function(e){t.flag.setting=!1}}},[r("v-icon",[t._v("mdi-close")])],1)],1),r("v-list",{staticClass:"tile-hover",class:{"mt-5":t.isMobile},attrs:{"two-line":"two-line",subheader:"subheader",light:"light"}},[t._l(t.settingData,function(e,a){return[r("v-subheader",{key:a,staticClass:"no-select"},[t._v(t._s(a))]),t._l(e,function(e){return r("v-list-tile",{key:e.title,attrs:{ripple:"ripple",avatar:"avatar"},on:{click:function(t){}}},[r("v-list-tile-action",[r("v-switch",{attrs:{color:"blue darken-1"},model:{value:t.setting[e.field],callback:function(a){t.$set(t.setting,e.field,a)},expression:"setting[subItem.field]"}})],1),r("v-list-tile-content",{on:{click:function(a){t.setting[e.field]=!t.setting[e.field]}}},[r("v-list-tile-title",[t._v(t._s(e.title))]),r("v-list-tile-sub-title",[t._v(t._s(e.description))])],1)],1)}),r("v-divider")]}),r("v-subheader",{staticClass:"no-select"},[t._v("其他")]),r("v-list-tile",{attrs:{ripple:"ripple",avatar:"avatar"},on:{click:t.clearAll}},[r("v-list-tile-action",[r("v-icon",{attrs:{large:"large"}},[t._v("mdi-delete-forever")])],1),r("v-list-tile-content",[r("v-list-tile-title",[t._v("清除資料")]),r("v-list-tile-sub-title",[t._v("如發生異常，通常清除資料可以解決大部分問題")])],1)],1)],2)],1),r("v-dialog",{attrs:{"max-width":"450"},model:{value:t.flag.about,callback:function(e){t.$set(t.flag,"about",e)},expression:"flag.about"}},[r("v-toolbar",{staticClass:"red no-select",attrs:{dark:"dark"}},[r("v-icon",[t._v("mdi-flash-circle")]),r("v-toolbar-title",[t._v("關於")]),r("v-spacer"),r("v-btn",{attrs:{icon:"icon"},on:{click:function(e){t.flag.about=!1}}},[r("v-icon",[t._v("mdi-close")])],1)],1),r("v-list",{staticClass:"tile-hover",attrs:{"two-line":"two-line",subheader:"subheader",light:"light"}},[r("v-subheader",{staticClass:"no-select"},[t._v("關於")]),r("v-list-tile",{attrs:{ripple:"ripple",avatar:"avatar"},on:{click:function(t){}}},[r("v-list-tile-action",[r("v-icon",[t._v("mdi-code-array")])],1),r("v-list-tile-content",[r("v-list-tile-title",[t._v("eCourse+")]),r("v-list-tile-sub-title",[t._v("v1.0.11")])],1)],1),r("v-list-tile",{attrs:{ripple:"ripple",avatar:"avatar"},on:{click:function(t){}}},[r("v-list-tile-action",[r("v-icon",[t._v("mdi-account-circle")])],1),r("v-list-tile-content",[r("v-list-tile-title",[t._v("@Pionxzh")]),r("v-list-tile-sub-title",[t._v("歡迎+Steam好友 ID一樣")])],1)],1),r("v-list-tile",{attrs:{ripple:"ripple",avatar:"avatar",href:"mailto:pionxzh@csie.io"}},[r("v-list-tile-action",[r("v-icon",[t._v("mdi-email")])],1),r("v-list-tile-content",[r("v-list-tile-title",[t._v("聯絡信箱 / 問題回報")]),r("v-list-tile-sub-title",[t._v("pionxzh@csie.io")])],1)],1),r("v-divider"),r("v-subheader",{staticClass:"no-select"},[t._v("GitHub")]),r("v-list-tile",{attrs:{ripple:"ripple",avatar:"avatar",href:"https://github.com/pionxzh/eCourse-Plus-Plus",target:"_blank",rel:"noopener"}},[r("v-list-tile-action",[r("v-icon",[t._v("mdi-github-circle")])],1),r("v-list-tile-content",[r("v-list-tile-title",[t._v("eCourse-Plus-Plus")]),r("v-list-tile-sub-title",[t._v("歡迎Star, 發PR")])],1)],1),r("v-divider"),r("v-subheader",{staticClass:"no-select"},[t._v("斗內")]),r("v-list-tile",{attrs:{ripple:"ripple",avatar:"avatar",href:"https://paypal.me/pionxzh",target:"_blank",rel:"noopener"}},[r("v-list-tile-action",[r("v-icon",[t._v("mdi-credit-card")])],1),r("v-list-tile-content",[r("v-list-tile-title",[t._v("Paypal")]),r("v-list-tile-sub-title",[t._v("如果你覺得我的作品不錯，歡迎贊助我一杯咖啡☕")])],1)],1)],1)],1),r("v-dialog",{attrs:{width:"300px"},model:{value:t.User.modal,callback:function(e){t.$set(t.User,"modal",e)},expression:"User.modal"}},[r("v-card",{staticClass:"dialog-box",attrs:{light:"light"}},[r("v-card-title",{staticClass:"headline"},[r("div",{staticClass:"text-xs-center"},[t._v("登入帳號")])]),r("v-card-text",{staticStyle:{"font-size":"15px"}},[t._v("※請輸入"),r("b",[t._v("單一入口帳號密碼")]),r("v-container",{attrs:{"grid-list-md":"grid-list-md"}},[r("v-layout",{attrs:{wrap:"wrap"}},[r("v-flex",{attrs:{xs12:"xs12"}},[r("v-text-field",{attrs:{label:"帳號"},model:{value:t.account.username,callback:function(e){t.$set(t.account,"username",e)},expression:"account.username"}})],1),r("v-flex",{attrs:{xs12:"xs12"}},[r("v-text-field",{attrs:{label:"密碼",type:"password"},on:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.login(!1)}},model:{value:t.account.password,callback:function(e){t.$set(t.account,"password",e)},expression:"account.password"}})],1)],1)],1)],1),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{color:"blue darken-1","aria-label":"login",loading:t.User.loading,large:"large",dark:"dark"},on:{click:function(e){t.login(!1)}}},[r("v-icon",[t._v("mdi-flash")]),t._v(" 登入")],1),r("v-spacer")],1)],1)],1),r("v-dialog",{attrs:{width:"500px"},model:{value:t.flag.error,callback:function(e){t.$set(t.flag,"error",e)},expression:"flag.error"}},[r("v-card",{staticClass:"dialog-box",attrs:{light:"light"}},[r("v-card-title",{staticClass:"headline"},[t._v("哎呀! 發生錯誤了 _(´ཀ`」 ∠)_")]),r("v-card-text",{staticStyle:{"font-size":"16px"}},[r("p",[t._v("錯誤類型: "),r("b",[t._v(t._s(t.err.title))])]),r("p",[t._v("錯誤訊息: "),r("b",[t._v(t._s(t.err.message))])]),r("p",{staticClass:"mt-5"},[t._v("1. 若問題重複出現，可嘗試在右上角"),r("b",[t._v("設定")]),t._v("底部選擇"),r("b",[t._v("清除資料")])]),r("p",[t._v("2. "),r("b",[t._v("Ping error")]),t._v("就不要理他了 不重要")]),r("p",[t._v("2. 若問題仍無改善，請回報至 "),r("b",[r("u",[t._v("pionxzh@csie.io")])]),r("br"),t._v("信件標題以"),r("b",[t._v("【問題回報】")]),t._v("為開頭，包含螢幕截圖(錯誤訊息)、錯誤所需重作步驟。")])])],1)],1)],1)},n=[],i={render:r,staticRenderFns:n};e.a=i},pu2v:function(t,e){},"q/9b":function(t,e){},rzhv:function(t,e){},"s6+2":function(t,e,a){"use strict";var r=a("Uhku"),n=a("PKKY"),i=a("VU/8"),o=i(r.a,n.a,!1,null,null,null);e.a=o.exports},sBiC:function(t,e){},uKc5:function(t,e){},zThr:function(t,e,a){"use strict";var r=a("Xxa5"),n=a.n(r),i=a("exGp"),o=a.n(i),s=a("L7Wk");e.a={created:function(){var t=this;return o()(n.a.mark(function e(){return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:localStorage.courseTable?t.table=JSON.parse(localStorage.courseTable):t.fetch();case 1:case"end":return e.stop()}},e,t)}))()},mounted:function(){var t=this;this.getSemester(),setTimeout(function(){t.height=(window.innerHeight-188)/840},300),this.timeHeight=(window.innerHeight-686)/15},data:function(){return{top:0,height:.5,timeHeight:10,isMobile:window.innerWidth<600,fstTermYear:107,secTermYear:107,year:107,term:1,selected:null,loading:!1,week:["星期一","星期二","星期三","星期四","星期五"],hour:["07:00","08:00","09:00","10:00","11:00","12:00","13:00","14:00","15:00","16:00","17:00","18:00","19:00","20:00","21:00","22:00"],table:[],dialog:{flag:!1,name:null,professor:null,location:null,time:null}}},methods:{fetch:function(){var t=this;return o()(n.a.mark(function e(){var a;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(localStorage.user){e.next=2;break}return e.abrupt("return",alert("請先登入"));case 2:return t.loading=!0,e.next=5,s.a.login();case 5:return e.next=7,s.a.getData(t.year,t.term);case 7:a=e.sent,a?t.table=a:alert("更新失敗!選課系統維護中"),t.loading=!1;case 10:case"end":return e.stop()}},e,t)}))()},changeTerm:function(t,e){var a=this;return o()(n.a.mark(function r(){return n.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return a.year=t,a.term=e,r.next=4,a.fetch();case 4:case"end":return r.stop()}},r,a)}))()},getSemester:function(){var t=new Date,e=t.toISOString().split("T")[0].split("-")[0],a=new Date(e,1,1),r=new Date(e,6,1);e-=1911,t>a&&t<r?(this.year=e-1,this.term=2,this.fstTermYear=e-1,this.secTermYear=e-1):t>=r?(this.year=e,this.fstTermYear=e,this.secTermYear=e-1):t<=a&&(this.year=e-1,this.fstTermYear=e-1,this.secTermYear=e-2)},showInfo:function(t){this.selected=t.id,this.dialog.name=t.name,this.dialog.professor=t.professor,this.dialog.location=t.location,this.dialog.time=t.time,this.dialog.flag=!0}}}}},["NHnr"]);